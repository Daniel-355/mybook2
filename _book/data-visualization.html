<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4 Data visualization | My Little Handbook</title>
  <meta name="description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="4 Data visualization | My Little Handbook" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4 Data visualization | My Little Handbook" />
  
  <meta name="twitter:description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  

<meta name="author" content="Daniel He" />


<meta name="date" content="2022-07-08" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="deep-learning.html"/>
<link rel="next" href="basic-statistics.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<link href="libs/table1-1.0/table1_defaults.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">My Little Handbook</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About</a></li>
<li class="chapter" data-level="1" data-path="data-wrangling.html"><a href="data-wrangling.html"><i class="fa fa-check"></i><b>1</b> Data Wrangling</a>
<ul>
<li class="chapter" data-level="1.1" data-path="data-wrangling.html"><a href="data-wrangling.html#how-to-do-data-wrangling"><i class="fa fa-check"></i><b>1.1</b> How to do data wrangling</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="data-wrangling.html"><a href="data-wrangling.html#load-data-and-package"><i class="fa fa-check"></i><b>1.1.1</b> Load data and package</a></li>
<li class="chapter" data-level="1.1.2" data-path="data-wrangling.html"><a href="data-wrangling.html#select-certain-rows"><i class="fa fa-check"></i><b>1.1.2</b> Select certain rows</a></li>
<li class="chapter" data-level="1.1.3" data-path="data-wrangling.html"><a href="data-wrangling.html#select-certain-columns"><i class="fa fa-check"></i><b>1.1.3</b> Select certain columns</a></li>
<li class="chapter" data-level="1.1.4" data-path="data-wrangling.html"><a href="data-wrangling.html#rename-variables"><i class="fa fa-check"></i><b>1.1.4</b> Rename variables</a></li>
<li class="chapter" data-level="1.1.5" data-path="data-wrangling.html"><a href="data-wrangling.html#sorting-in-ascending-or-descending-order"><i class="fa fa-check"></i><b>1.1.5</b> Sorting in ascending or descending order</a></li>
<li class="chapter" data-level="1.1.6" data-path="data-wrangling.html"><a href="data-wrangling.html#transform-variables"><i class="fa fa-check"></i><b>1.1.6</b> Transform variables</a></li>
<li class="chapter" data-level="1.1.7" data-path="data-wrangling.html"><a href="data-wrangling.html#working-with-pipes"><i class="fa fa-check"></i><b>1.1.7</b> Working with pipes %&gt;%</a></li>
<li class="chapter" data-level="1.1.8" data-path="data-wrangling.html"><a href="data-wrangling.html#pivot-wider-long-to-wide"><i class="fa fa-check"></i><b>1.1.8</b> Pivot wider (long to wide)</a></li>
<li class="chapter" data-level="1.1.9" data-path="data-wrangling.html"><a href="data-wrangling.html#pivot-longer-wide-to-long"><i class="fa fa-check"></i><b>1.1.9</b> Pivot longer (wide to long)</a></li>
<li class="chapter" data-level="1.1.10" data-path="data-wrangling.html"><a href="data-wrangling.html#separate-columns"><i class="fa fa-check"></i><b>1.1.10</b> Separate columns</a></li>
<li class="chapter" data-level="1.1.11" data-path="data-wrangling.html"><a href="data-wrangling.html#recoderelabel-data"><i class="fa fa-check"></i><b>1.1.11</b> Recode/relabel data</a></li>
<li class="chapter" data-level="1.1.12" data-path="data-wrangling.html"><a href="data-wrangling.html#combine-data-sets"><i class="fa fa-check"></i><b>1.1.12</b> Combine data sets</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="data-wrangling.html"><a href="data-wrangling.html#how-to-do-aggregation-summarization"><i class="fa fa-check"></i><b>1.2</b> How to do aggregation/ summarization</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="data-wrangling.html"><a href="data-wrangling.html#summarization-after-grouping"><i class="fa fa-check"></i><b>1.2.1</b> Summarization after grouping</a></li>
<li class="chapter" data-level="1.2.2" data-path="data-wrangling.html"><a href="data-wrangling.html#summarization-with-upgroup"><i class="fa fa-check"></i><b>1.2.2</b> Summarization with upgroup</a></li>
<li class="chapter" data-level="1.2.3" data-path="data-wrangling.html"><a href="data-wrangling.html#mutate-new-variables-after-grouping"><i class="fa fa-check"></i><b>1.2.3</b> Mutate new variables after grouping</a></li>
<li class="chapter" data-level="1.2.4" data-path="data-wrangling.html"><a href="data-wrangling.html#recode-and-generate-new-variables-then-value-label"><i class="fa fa-check"></i><b>1.2.4</b> Recode and generate new variables, then value label</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="machine-learning.html"><a href="machine-learning.html"><i class="fa fa-check"></i><b>2</b> Machine learning</a>
<ul>
<li class="chapter" data-level="2.1" data-path="machine-learning.html"><a href="machine-learning.html#machine-learning-workflow"><i class="fa fa-check"></i><b>2.1</b> Machine learning workflow</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="machine-learning.html"><a href="machine-learning.html#loading-packages-and-datasets"><i class="fa fa-check"></i><b>2.1.1</b> Loading packages and datasets</a></li>
<li class="chapter" data-level="2.1.2" data-path="machine-learning.html"><a href="machine-learning.html#spliting-the-dataset-into-training-and-test-data-sets"><i class="fa fa-check"></i><b>2.1.2</b> Spliting the dataset into training and test data sets</a></li>
<li class="chapter" data-level="2.1.3" data-path="machine-learning.html"><a href="machine-learning.html#implement-data-imputation"><i class="fa fa-check"></i><b>2.1.3</b> Implement data imputation</a></li>
<li class="chapter" data-level="2.1.4" data-path="machine-learning.html"><a href="machine-learning.html#one-hot-endcoding"><i class="fa fa-check"></i><b>2.1.4</b> One-hot-endcoding</a></li>
<li class="chapter" data-level="2.1.5" data-path="machine-learning.html"><a href="machine-learning.html#normalizing-features"><i class="fa fa-check"></i><b>2.1.5</b> Normalizing features</a></li>
<li class="chapter" data-level="2.1.6" data-path="machine-learning.html"><a href="machine-learning.html#plot-features"><i class="fa fa-check"></i><b>2.1.6</b> Plot features</a></li>
<li class="chapter" data-level="2.1.7" data-path="machine-learning.html"><a href="machine-learning.html#recursive-feature-elimination-rfe"><i class="fa fa-check"></i><b>2.1.7</b> <strong>Recursive feature elimination (rfe)</strong></a></li>
<li class="chapter" data-level="2.1.8" data-path="machine-learning.html"><a href="machine-learning.html#training-a-model-multivariate-adaptive-regression-splines-mars"><i class="fa fa-check"></i><b>2.1.8</b> Training a model <code>Multivariate Adaptive Regression Splines (MARS)</code></a></li>
<li class="chapter" data-level="2.1.9" data-path="machine-learning.html"><a href="machine-learning.html#prepare-the-test-data-set"><i class="fa fa-check"></i><b>2.1.9</b> Prepare the test data set</a></li>
<li class="chapter" data-level="2.1.10" data-path="machine-learning.html"><a href="machine-learning.html#prediction-uisng-testdata"><i class="fa fa-check"></i><b>2.1.10</b> Prediction uisng testdata</a></li>
<li class="chapter" data-level="2.1.11" data-path="machine-learning.html"><a href="machine-learning.html#compute-confusion-matrix"><i class="fa fa-check"></i><b>2.1.11</b> Compute confusion matrix</a></li>
<li class="chapter" data-level="2.1.12" data-path="machine-learning.html"><a href="machine-learning.html#tuning-hyperparameter-to-optimize-the-model"><i class="fa fa-check"></i><b>2.1.12</b> Tuning hyperparameter to optimize the model</a></li>
<li class="chapter" data-level="2.1.13" data-path="machine-learning.html"><a href="machine-learning.html#other-marchine-learning-algorithms"><i class="fa fa-check"></i><b>2.1.13</b> Other marchine learning algorithms</a></li>
<li class="chapter" data-level="2.1.14" data-path="machine-learning.html"><a href="machine-learning.html#comparisons-of-different-models"><i class="fa fa-check"></i><b>2.1.14</b> Comparisons of different models</a></li>
<li class="chapter" data-level="2.1.15" data-path="machine-learning.html"><a href="machine-learning.html#plot-comparisons-of-models"><i class="fa fa-check"></i><b>2.1.15</b> Plot comparisons of models</a></li>
<li class="chapter" data-level="2.1.16" data-path="machine-learning.html"><a href="machine-learning.html#ensemble-predictions-from-multiple-models"><i class="fa fa-check"></i><b>2.1.16</b> Ensemble predictions from multiple models</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="machine-learning.html"><a href="machine-learning.html#knn-classifier"><i class="fa fa-check"></i><b>2.2</b> KNN Classifier</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="machine-learning.html"><a href="machine-learning.html#splitting-data"><i class="fa fa-check"></i><b>2.2.1</b> Splitting data</a></li>
<li class="chapter" data-level="2.2.2" data-path="machine-learning.html"><a href="machine-learning.html#creating-knn-model"><i class="fa fa-check"></i><b>2.2.2</b> Creating KNN model</a></li>
<li class="chapter" data-level="2.2.3" data-path="machine-learning.html"><a href="machine-learning.html#model-evaluation"><i class="fa fa-check"></i><b>2.2.3</b> Model Evaluation</a></li>
<li class="chapter" data-level="2.2.4" data-path="machine-learning.html"><a href="machine-learning.html#calculate-accuracy-with-different-k"><i class="fa fa-check"></i><b>2.2.4</b> Calculate accuracy with different K</a></li>
<li class="chapter" data-level="2.2.5" data-path="machine-learning.html"><a href="machine-learning.html#optimization"><i class="fa fa-check"></i><b>2.2.5</b> Optimization</a></li>
<li class="chapter" data-level="2.2.6" data-path="machine-learning.html"><a href="machine-learning.html#visualization"><i class="fa fa-check"></i><b>2.2.6</b> Visualization</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="machine-learning.html"><a href="machine-learning.html#knn-regression"><i class="fa fa-check"></i><b>2.3</b> KNN regression</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="machine-learning.html"><a href="machine-learning.html#data-exploring"><i class="fa fa-check"></i><b>2.3.1</b> Data exploring</a></li>
<li class="chapter" data-level="2.3.2" data-path="machine-learning.html"><a href="machine-learning.html#prepareing-data"><i class="fa fa-check"></i><b>2.3.2</b> Prepareing data</a></li>
<li class="chapter" data-level="2.3.3" data-path="machine-learning.html"><a href="machine-learning.html#creating-model"><i class="fa fa-check"></i><b>2.3.3</b> Creating model</a></li>
<li class="chapter" data-level="2.3.4" data-path="machine-learning.html"><a href="machine-learning.html#evaluation"><i class="fa fa-check"></i><b>2.3.4</b> Evaluation</a></li>
<li class="chapter" data-level="2.3.5" data-path="machine-learning.html"><a href="machine-learning.html#optimization-1"><i class="fa fa-check"></i><b>2.3.5</b> Optimization</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="deep-learning.html"><a href="deep-learning.html"><i class="fa fa-check"></i><b>3</b> Deep learning</a>
<ul>
<li class="chapter" data-level="3.1" data-path="deep-learning.html"><a href="deep-learning.html#deep-neural-network"><i class="fa fa-check"></i><b>3.1</b> Deep neural network</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="deep-learning.html"><a href="deep-learning.html#load-data"><i class="fa fa-check"></i><b>3.1.1</b> Load data</a></li>
<li class="chapter" data-level="3.1.2" data-path="deep-learning.html"><a href="deep-learning.html#process-data-and-variable"><i class="fa fa-check"></i><b>3.1.2</b> Process data and variable</a></li>
<li class="chapter" data-level="3.1.3" data-path="deep-learning.html"><a href="deep-learning.html#split-data-into-training-and-test-datasets"><i class="fa fa-check"></i><b>3.1.3</b> Split data into training and test datasets</a></li>
<li class="chapter" data-level="3.1.4" data-path="deep-learning.html"><a href="deep-learning.html#creating-neural-network-model"><i class="fa fa-check"></i><b>3.1.4</b> Creating neural network model</a></li>
<li class="chapter" data-level="3.1.5" data-path="deep-learning.html"><a href="deep-learning.html#evaluation-1"><i class="fa fa-check"></i><b>3.1.5</b> Evaluation</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="deep-learning.html"><a href="deep-learning.html#deep-neural-networks-for-regression"><i class="fa fa-check"></i><b>3.2</b> Deep neural networks for regression</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="deep-learning.html"><a href="deep-learning.html#loading-packages-and-data-sets"><i class="fa fa-check"></i><b>3.2.1</b> Loading packages and data sets</a></li>
<li class="chapter" data-level="3.2.2" data-path="deep-learning.html"><a href="deep-learning.html#convert-dataframe-to-matrix-without-dimnames"><i class="fa fa-check"></i><b>3.2.2</b> Convert dataframe to matrix without dimnames</a></li>
<li class="chapter" data-level="3.2.3" data-path="deep-learning.html"><a href="deep-learning.html#spiting-training-and-test-data"><i class="fa fa-check"></i><b>3.2.3</b> Spiting training and test data</a></li>
<li class="chapter" data-level="3.2.4" data-path="deep-learning.html"><a href="deep-learning.html#normalizing-xtrain-and-xtest-data"><i class="fa fa-check"></i><b>3.2.4</b> Normalizing <code>xtrain</code> and <code>xtest</code> data</a></li>
<li class="chapter" data-level="3.2.5" data-path="deep-learning.html"><a href="deep-learning.html#creating-the-model"><i class="fa fa-check"></i><b>3.2.5</b> Creating the model</a></li>
<li class="chapter" data-level="3.2.6" data-path="deep-learning.html"><a href="deep-learning.html#compiling-the-model-1"><i class="fa fa-check"></i><b>3.2.6</b> Compiling the model</a></li>
<li class="chapter" data-level="3.2.7" data-path="deep-learning.html"><a href="deep-learning.html#fitting-the-model"><i class="fa fa-check"></i><b>3.2.7</b> Fitting the model</a></li>
<li class="chapter" data-level="3.2.8" data-path="deep-learning.html"><a href="deep-learning.html#plot-the-training-process"><i class="fa fa-check"></i><b>3.2.8</b> Plot the training process</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="deep-learning.html"><a href="deep-learning.html#convolutional-neural-netwrok"><i class="fa fa-check"></i><b>3.3</b> Convolutional neural netwrok</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="deep-learning.html"><a href="deep-learning.html#import-library"><i class="fa fa-check"></i><b>3.3.1</b> Import library</a></li>
<li class="chapter" data-level="3.3.2" data-path="deep-learning.html"><a href="deep-learning.html#importing-the-data"><i class="fa fa-check"></i><b>3.3.2</b> Importing the data</a></li>
<li class="chapter" data-level="3.3.3" data-path="deep-learning.html"><a href="deep-learning.html#preparing-the-data"><i class="fa fa-check"></i><b>3.3.3</b> preparing the data</a></li>
<li class="chapter" data-level="3.3.4" data-path="deep-learning.html"><a href="deep-learning.html#creating-the-model-1"><i class="fa fa-check"></i><b>3.3.4</b> Creating the model</a></li>
<li class="chapter" data-level="3.3.5" data-path="deep-learning.html"><a href="deep-learning.html#training"><i class="fa fa-check"></i><b>3.3.5</b> Training</a></li>
<li class="chapter" data-level="3.3.6" data-path="deep-learning.html"><a href="deep-learning.html#evaluating-the-accuracy"><i class="fa fa-check"></i><b>3.3.6</b> Evaluating the accuracy</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-visualization.html"><a href="data-visualization.html"><i class="fa fa-check"></i><b>4</b> Data visualization</a>
<ul>
<li class="chapter" data-level="4.1" data-path="data-visualization.html"><a href="data-visualization.html#data-visualization-introduction"><i class="fa fa-check"></i><b>4.1</b> Data visualization introduction</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="data-visualization.html"><a href="data-visualization.html#summarization"><i class="fa fa-check"></i><b>4.1.1</b> Summarization</a></li>
<li class="chapter" data-level="4.1.2" data-path="data-visualization.html"><a href="data-visualization.html#explore-missing-values"><i class="fa fa-check"></i><b>4.1.2</b> Explore missing values</a></li>
<li class="chapter" data-level="4.1.3" data-path="data-visualization.html"><a href="data-visualization.html#add-statistical-test"><i class="fa fa-check"></i><b>4.1.3</b> Add statistical test</a></li>
<li class="chapter" data-level="4.1.4" data-path="data-visualization.html"><a href="data-visualization.html#add-texts-to-dots"><i class="fa fa-check"></i><b>4.1.4</b> Add texts to dots</a></li>
<li class="chapter" data-level="4.1.5" data-path="data-visualization.html"><a href="data-visualization.html#set-the-legend"><i class="fa fa-check"></i><b>4.1.5</b> Set the legend</a></li>
<li class="chapter" data-level="4.1.6" data-path="data-visualization.html"><a href="data-visualization.html#create-a-panel-of-plots"><i class="fa fa-check"></i><b>4.1.6</b> Create a panel of plots</a></li>
<li class="chapter" data-level="4.1.7" data-path="data-visualization.html"><a href="data-visualization.html#plots-in-regression"><i class="fa fa-check"></i><b>4.1.7</b> Plots in regression</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="data-visualization.html"><a href="data-visualization.html#scatter-plot"><i class="fa fa-check"></i><b>4.2</b> Scatter plot</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="data-visualization.html"><a href="data-visualization.html#create-a-empty-canvas"><i class="fa fa-check"></i><b>4.2.1</b> Create a empty canvas</a></li>
<li class="chapter" data-level="4.2.2" data-path="data-visualization.html"><a href="data-visualization.html#add-a-layergeom-of-points-to-the-canvas"><i class="fa fa-check"></i><b>4.2.2</b> Add a layer/geom of <code>points</code> to the canvas</a></li>
<li class="chapter" data-level="4.2.3" data-path="data-visualization.html"><a href="data-visualization.html#add-another-aesthetic"><i class="fa fa-check"></i><b>4.2.3</b> Add another aesthetic</a></li>
<li class="chapter" data-level="4.2.4" data-path="data-visualization.html"><a href="data-visualization.html#add-other-aesthetic"><i class="fa fa-check"></i><b>4.2.4</b> Add other aesthetic</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="data-visualization.html"><a href="data-visualization.html#bar-chart"><i class="fa fa-check"></i><b>4.3</b> Bar chart</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="data-visualization.html"><a href="data-visualization.html#grouped-bar-chart"><i class="fa fa-check"></i><b>4.3.1</b> Grouped bar chart</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="data-visualization.html"><a href="data-visualization.html#line-charts"><i class="fa fa-check"></i><b>4.4</b> Line charts</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="data-visualization.html"><a href="data-visualization.html#grouped-by-colour-variable"><i class="fa fa-check"></i><b>4.4.1</b> Grouped by <code>colour variable</code></a></li>
<li class="chapter" data-level="4.4.2" data-path="data-visualization.html"><a href="data-visualization.html#multiple-aesthetics"><i class="fa fa-check"></i><b>4.4.2</b> Multiple aesthetics</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="data-visualization.html"><a href="data-visualization.html#ggplot2-parameters"><i class="fa fa-check"></i><b>4.5</b> ggplot2 parameters</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="data-visualization.html"><a href="data-visualization.html#components-of-plot"><i class="fa fa-check"></i><b>4.5.1</b> Components of plot</a></li>
<li class="chapter" data-level="4.5.2" data-path="data-visualization.html"><a href="data-visualization.html#create-main-title-axis-labels-caption"><i class="fa fa-check"></i><b>4.5.2</b> Create main title, axis labels, caption</a></li>
<li class="chapter" data-level="4.5.3" data-path="data-visualization.html"><a href="data-visualization.html#create-legend-title-position"><i class="fa fa-check"></i><b>4.5.3</b> Create legend title, position</a></li>
<li class="chapter" data-level="4.5.4" data-path="data-visualization.html"><a href="data-visualization.html#change-plot-colors"><i class="fa fa-check"></i><b>4.5.4</b> Change plot colors</a></li>
<li class="chapter" data-level="4.5.5" data-path="data-visualization.html"><a href="data-visualization.html#change-points-shapes-transparent-and-size"><i class="fa fa-check"></i><b>4.5.5</b> Change points shapes, transparent and size</a></li>
<li class="chapter" data-level="4.5.6" data-path="data-visualization.html"><a href="data-visualization.html#change-bars-position"><i class="fa fa-check"></i><b>4.5.6</b> Change bars position</a></li>
<li class="chapter" data-level="4.5.7" data-path="data-visualization.html"><a href="data-visualization.html#add-text-annotations"><i class="fa fa-check"></i><b>4.5.7</b> Add text annotations</a></li>
<li class="chapter" data-level="4.5.8" data-path="data-visualization.html"><a href="data-visualization.html#add-a-line-that-separates-points"><i class="fa fa-check"></i><b>4.5.8</b> Add a line that (separates points)</a></li>
<li class="chapter" data-level="4.5.9" data-path="data-visualization.html"><a href="data-visualization.html#using-scale_-function"><i class="fa fa-check"></i><b>4.5.9</b> Using scale_ function</a></li>
<li class="chapter" data-level="4.5.10" data-path="data-visualization.html"><a href="data-visualization.html#change-coordinates"><i class="fa fa-check"></i><b>4.5.10</b> Change coordinates</a></li>
<li class="chapter" data-level="4.5.11" data-path="data-visualization.html"><a href="data-visualization.html#customize-axis-ticks"><i class="fa fa-check"></i><b>4.5.11</b> Customize axis ticks</a></li>
<li class="chapter" data-level="4.5.12" data-path="data-visualization.html"><a href="data-visualization.html#flip-and-reverse-plot"><i class="fa fa-check"></i><b>4.5.12</b> Flip and reverse plot</a></li>
<li class="chapter" data-level="4.5.13" data-path="data-visualization.html"><a href="data-visualization.html#create-stats"><i class="fa fa-check"></i><b>4.5.13</b> Create stats</a></li>
<li class="chapter" data-level="4.5.14" data-path="data-visualization.html"><a href="data-visualization.html#facets"><i class="fa fa-check"></i><b>4.5.14</b> Facets</a></li>
<li class="chapter" data-level="4.5.15" data-path="data-visualization.html"><a href="data-visualization.html#theme"><i class="fa fa-check"></i><b>4.5.15</b> Theme</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="basic-statistics.html"><a href="basic-statistics.html"><i class="fa fa-check"></i><b>5</b> Basic statistics</a>
<ul>
<li class="chapter" data-level="5.1" data-path="basic-statistics.html"><a href="basic-statistics.html#the-essentials-of-r"><i class="fa fa-check"></i><b>5.1</b> The essentials of R</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="basic-statistics.html"><a href="basic-statistics.html#manipulation-of-vector"><i class="fa fa-check"></i><b>5.1.1</b> Manipulation of vector</a></li>
<li class="chapter" data-level="5.1.2" data-path="basic-statistics.html"><a href="basic-statistics.html#generate-sequence-or-repeted-sequece"><i class="fa fa-check"></i><b>5.1.2</b> Generate sequence or repeted sequece</a></li>
<li class="chapter" data-level="5.1.3" data-path="basic-statistics.html"><a href="basic-statistics.html#get-directory-and-write-data-out-and-in"><i class="fa fa-check"></i><b>5.1.3</b> Get directory and write data out and in</a></li>
<li class="chapter" data-level="5.1.4" data-path="basic-statistics.html"><a href="basic-statistics.html#function"><i class="fa fa-check"></i><b>5.1.4</b> Function</a></li>
<li class="chapter" data-level="5.1.5" data-path="basic-statistics.html"><a href="basic-statistics.html#plot"><i class="fa fa-check"></i><b>5.1.5</b> Plot</a></li>
<li class="chapter" data-level="5.1.6" data-path="basic-statistics.html"><a href="basic-statistics.html#class-of-dataframe"><i class="fa fa-check"></i><b>5.1.6</b> Class of dataframe</a></li>
<li class="chapter" data-level="5.1.7" data-path="basic-statistics.html"><a href="basic-statistics.html#generate-new-variable-for-dataframe-character"><i class="fa fa-check"></i><b>5.1.7</b> Generate new variable for dataframe (character)</a></li>
<li class="chapter" data-level="5.1.8" data-path="basic-statistics.html"><a href="basic-statistics.html#create-a-new-dataframe-using-rnorm---random-number-from-distribution"><i class="fa fa-check"></i><b>5.1.8</b> Create a new dataframe using ‘rnorm’ - random number from distribution</a></li>
<li class="chapter" data-level="5.1.9" data-path="basic-statistics.html"><a href="basic-statistics.html#left-join-two-dataframes"><i class="fa fa-check"></i><b>5.1.9</b> Left join two dataframes</a></li>
<li class="chapter" data-level="5.1.10" data-path="basic-statistics.html"><a href="basic-statistics.html#select-variables"><i class="fa fa-check"></i><b>5.1.10</b> Select variables</a></li>
<li class="chapter" data-level="5.1.11" data-path="basic-statistics.html"><a href="basic-statistics.html#filter-observations"><i class="fa fa-check"></i><b>5.1.11</b> Filter observations</a></li>
<li class="chapter" data-level="5.1.12" data-path="basic-statistics.html"><a href="basic-statistics.html#append-rows"><i class="fa fa-check"></i><b>5.1.12</b> Append rows</a></li>
<li class="chapter" data-level="5.1.13" data-path="basic-statistics.html"><a href="basic-statistics.html#create-new-variables-instead-of-old-variables"><i class="fa fa-check"></i><b>5.1.13</b> Create new variables instead of old variables</a></li>
<li class="chapter" data-level="5.1.14" data-path="basic-statistics.html"><a href="basic-statistics.html#summarise-statistics"><i class="fa fa-check"></i><b>5.1.14</b> summarise statistics</a></li>
<li class="chapter" data-level="5.1.15" data-path="basic-statistics.html"><a href="basic-statistics.html#group-dataframe-then-summarise-statistics"><i class="fa fa-check"></i><b>5.1.15</b> Group dataframe then summarise statistics</a></li>
<li class="chapter" data-level="5.1.16" data-path="basic-statistics.html"><a href="basic-statistics.html#ungroup-then-summarise-statistics"><i class="fa fa-check"></i><b>5.1.16</b> Ungroup then summarise statistics</a></li>
<li class="chapter" data-level="5.1.17" data-path="basic-statistics.html"><a href="basic-statistics.html#summary-linear-regression-model"><i class="fa fa-check"></i><b>5.1.17</b> Summary linear regression model</a></li>
<li class="chapter" data-level="5.1.18" data-path="basic-statistics.html"><a href="basic-statistics.html#create-frequency-table"><i class="fa fa-check"></i><b>5.1.18</b> Create frequency table</a></li>
<li class="chapter" data-level="5.1.19" data-path="basic-statistics.html"><a href="basic-statistics.html#value-and-variable-label"><i class="fa fa-check"></i><b>5.1.19</b> Value and variable label</a></li>
<li class="chapter" data-level="5.1.20" data-path="basic-statistics.html"><a href="basic-statistics.html#recode-a-variable"><i class="fa fa-check"></i><b>5.1.20</b> Recode a variable</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="statistical-models.html"><a href="statistical-models.html"><i class="fa fa-check"></i><b>6</b> Statistical models</a>
<ul>
<li class="chapter" data-level="6.1" data-path="statistical-models.html"><a href="statistical-models.html#simple-linear-regression"><i class="fa fa-check"></i><b>6.1</b> Simple linear regression</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="statistical-models.html"><a href="statistical-models.html#linear-regeression-assumptions"><i class="fa fa-check"></i><b>6.1.1</b> Linear regeression assumptions</a></li>
<li class="chapter" data-level="6.1.2" data-path="statistical-models.html"><a href="statistical-models.html#population-regression-function"><i class="fa fa-check"></i><b>6.1.2</b> Population regression function</a></li>
<li class="chapter" data-level="6.1.3" data-path="statistical-models.html"><a href="statistical-models.html#population-regression-model"><i class="fa fa-check"></i><b>6.1.3</b> Population regression model</a></li>
<li class="chapter" data-level="6.1.4" data-path="statistical-models.html"><a href="statistical-models.html#sample-regression-model"><i class="fa fa-check"></i><b>6.1.4</b> Sample regression model</a></li>
<li class="chapter" data-level="6.1.5" data-path="statistical-models.html"><a href="statistical-models.html#solve-hatbeta_1hatbeta_2-and-variance"><i class="fa fa-check"></i><b>6.1.5</b> Solve <span class="math inline">\(\hat{\beta_1},\hat{\beta_2}\)</span> and variance</a></li>
<li class="chapter" data-level="6.1.6" data-path="statistical-models.html"><a href="statistical-models.html#calculate-the-variance-hatsigma2-of-error-e_i"><i class="fa fa-check"></i><b>6.1.6</b> Calculate the variance <span class="math inline">\(\hat{\sigma}^2\)</span> of error <span class="math inline">\(e_i\)</span></a></li>
<li class="chapter" data-level="6.1.7" data-path="statistical-models.html"><a href="statistical-models.html#sum-of-squares-decomposition"><i class="fa fa-check"></i><b>6.1.7</b> Sum of squares decomposition</a></li>
<li class="chapter" data-level="6.1.8" data-path="statistical-models.html"><a href="statistical-models.html#coefficient-of-determination-r2-and-goodness-of-fit"><i class="fa fa-check"></i><b>6.1.8</b> Coefficient of determination <span class="math inline">\(R^2\)</span> and goodness of fit</a></li>
<li class="chapter" data-level="6.1.9" data-path="statistical-models.html"><a href="statistical-models.html#test-of-regression-coefficients"><i class="fa fa-check"></i><b>6.1.9</b> Test of regression coefficients</a></li>
<li class="chapter" data-level="6.1.10" data-path="statistical-models.html"><a href="statistical-models.html#statistical-test-of-model"><i class="fa fa-check"></i><b>6.1.10</b> Statistical test of model</a></li>
<li class="chapter" data-level="6.1.11" data-path="statistical-models.html"><a href="statistical-models.html#mean-prediction"><i class="fa fa-check"></i><b>6.1.11</b> Mean prediction</a></li>
<li class="chapter" data-level="6.1.12" data-path="statistical-models.html"><a href="statistical-models.html#individual-prediction"><i class="fa fa-check"></i><b>6.1.12</b> Individual prediction</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="statistical-models.html"><a href="statistical-models.html#multiple-linear-regression"><i class="fa fa-check"></i><b>6.2</b> Multiple linear regression</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="statistical-models.html"><a href="statistical-models.html#matrix-format"><i class="fa fa-check"></i><b>6.2.1</b> Matrix format</a></li>
<li class="chapter" data-level="6.2.2" data-path="statistical-models.html"><a href="statistical-models.html#variance-covariance-matrix-of-random-errors"><i class="fa fa-check"></i><b>6.2.2</b> Variance covariance matrix of random errors</a></li>
<li class="chapter" data-level="6.2.3" data-path="statistical-models.html"><a href="statistical-models.html#minimize-q-sumy-haty2"><i class="fa fa-check"></i><b>6.2.3</b> Minimize Q, <span class="math inline">\(\sum{(y-\hat{y})^2}\)</span></a></li>
<li class="chapter" data-level="6.2.4" data-path="statistical-models.html"><a href="statistical-models.html#solve-hatbeta-by-derivation"><i class="fa fa-check"></i><b>6.2.4</b> Solve <span class="math inline">\(\hat{\beta}\)</span> by derivation</a></li>
<li class="chapter" data-level="6.2.5" data-path="statistical-models.html"><a href="statistical-models.html#solve-hatsigma_beta2"><i class="fa fa-check"></i><b>6.2.5</b> Solve <span class="math inline">\(\hat{\sigma_\beta}^2\)</span></a></li>
<li class="chapter" data-level="6.2.6" data-path="statistical-models.html"><a href="statistical-models.html#solve-s2mathbfhatbeta"><i class="fa fa-check"></i><b>6.2.6</b> Solve <span class="math inline">\(S^2(\mathbf{\hat{\beta}})\)</span></a></li>
<li class="chapter" data-level="6.2.7" data-path="statistical-models.html"><a href="statistical-models.html#sum-of-squares-decomposition-matrix-format"><i class="fa fa-check"></i><b>6.2.7</b> Sum of squares decomposition (matrix format)</a></li>
<li class="chapter" data-level="6.2.8" data-path="statistical-models.html"><a href="statistical-models.html#determination-coefficient-r2-and-goodness-of-fit"><i class="fa fa-check"></i><b>6.2.8</b> Determination coefficient <span class="math inline">\(R^2\)</span> and goodness of fit</a></li>
<li class="chapter" data-level="6.2.9" data-path="statistical-models.html"><a href="statistical-models.html#test-of-regression-coefficients-1"><i class="fa fa-check"></i><b>6.2.9</b> Test of regression coefficients</a></li>
<li class="chapter" data-level="6.2.10" data-path="statistical-models.html"><a href="statistical-models.html#test-of-model"><i class="fa fa-check"></i><b>6.2.10</b> Test of model</a></li>
<li class="chapter" data-level="6.2.11" data-path="statistical-models.html"><a href="statistical-models.html#mean-prediction-1"><i class="fa fa-check"></i><b>6.2.11</b> Mean prediction</a></li>
<li class="chapter" data-level="6.2.12" data-path="statistical-models.html"><a href="statistical-models.html#individual-prediction-1"><i class="fa fa-check"></i><b>6.2.12</b> Individual prediction</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="statistical-models.html"><a href="statistical-models.html#multiple-linear-regression-practice"><i class="fa fa-check"></i><b>6.3</b> Multiple linear regression practice</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="statistical-models.html"><a href="statistical-models.html#loading-and-describing-data"><i class="fa fa-check"></i><b>6.3.1</b> Loading and describing data</a></li>
<li class="chapter" data-level="6.3.2" data-path="statistical-models.html"><a href="statistical-models.html#create-table-1"><i class="fa fa-check"></i><b>6.3.2</b> Create table 1</a></li>
<li class="chapter" data-level="6.3.3" data-path="statistical-models.html"><a href="statistical-models.html#missingness-checking"><i class="fa fa-check"></i><b>6.3.3</b> Missingness checking</a></li>
<li class="chapter" data-level="6.3.4" data-path="statistical-models.html"><a href="statistical-models.html#exploratory-data-analysis"><i class="fa fa-check"></i><b>6.3.4</b> Exploratory data analysis</a></li>
<li class="chapter" data-level="6.3.5" data-path="statistical-models.html"><a href="statistical-models.html#transformations"><i class="fa fa-check"></i><b>6.3.5</b> Transformations</a></li>
<li class="chapter" data-level="6.3.6" data-path="statistical-models.html"><a href="statistical-models.html#data-imputation-and-normalization"><i class="fa fa-check"></i><b>6.3.6</b> Data imputation and normalization</a></li>
<li class="chapter" data-level="6.3.7" data-path="statistical-models.html"><a href="statistical-models.html#generate-dummy-variables"><i class="fa fa-check"></i><b>6.3.7</b> Generate dummy variables</a></li>
<li class="chapter" data-level="6.3.8" data-path="statistical-models.html"><a href="statistical-models.html#spliting-data-into-trainning-data-and-test-data"><i class="fa fa-check"></i><b>6.3.8</b> Spliting data into trainning data and test data</a></li>
<li class="chapter" data-level="6.3.9" data-path="statistical-models.html"><a href="statistical-models.html#step-regression"><i class="fa fa-check"></i><b>6.3.9</b> Step regression</a></li>
<li class="chapter" data-level="6.3.10" data-path="statistical-models.html"><a href="statistical-models.html#create-a-model-after-selecting-variables"><i class="fa fa-check"></i><b>6.3.10</b> Create a model after selecting variables</a></li>
<li class="chapter" data-level="6.3.11" data-path="statistical-models.html"><a href="statistical-models.html#multicollinearity-checking"><i class="fa fa-check"></i><b>6.3.11</b> Multicollinearity checking</a></li>
<li class="chapter" data-level="6.3.12" data-path="statistical-models.html"><a href="statistical-models.html#plot-model-to-check-assumptions"><i class="fa fa-check"></i><b>6.3.12</b> Plot model to check assumptions</a></li>
<li class="chapter" data-level="6.3.13" data-path="statistical-models.html"><a href="statistical-models.html#add-polynomial-of-quadratic-term"><i class="fa fa-check"></i><b>6.3.13</b> Add polynomial of quadratic term</a></li>
<li class="chapter" data-level="6.3.14" data-path="statistical-models.html"><a href="statistical-models.html#add-interaction-terms"><i class="fa fa-check"></i><b>6.3.14</b> Add interaction terms</a></li>
<li class="chapter" data-level="6.3.15" data-path="statistical-models.html"><a href="statistical-models.html#robust-regression"><i class="fa fa-check"></i><b>6.3.15</b> Robust regression</a></li>
<li class="chapter" data-level="6.3.16" data-path="statistical-models.html"><a href="statistical-models.html#create-a-model-before-transforming-data"><i class="fa fa-check"></i><b>6.3.16</b> Create a model before transforming data</a></li>
<li class="chapter" data-level="6.3.17" data-path="statistical-models.html"><a href="statistical-models.html#k-fold-cross-validation"><i class="fa fa-check"></i><b>6.3.17</b> K-fold cross validation</a></li>
<li class="chapter" data-level="6.3.18" data-path="statistical-models.html"><a href="statistical-models.html#nonnest-models-comparisons"><i class="fa fa-check"></i><b>6.3.18</b> Nonnest models comparisons</a></li>
<li class="chapter" data-level="6.3.19" data-path="statistical-models.html"><a href="statistical-models.html#create-forest-plot-for-coefficients"><i class="fa fa-check"></i><b>6.3.19</b> Create forest plot for coefficients</a></li>
<li class="chapter" data-level="6.3.20" data-path="statistical-models.html"><a href="statistical-models.html#relative-importance"><i class="fa fa-check"></i><b>6.3.20</b> Relative Importance</a></li>
<li class="chapter" data-level="6.3.21" data-path="statistical-models.html"><a href="statistical-models.html#model-prediction"><i class="fa fa-check"></i><b>6.3.21</b> Model prediction</a></li>
<li class="chapter" data-level="6.3.22" data-path="statistical-models.html"><a href="statistical-models.html#external-data-validation"><i class="fa fa-check"></i><b>6.3.22</b> External data validation</a></li>
<li class="chapter" data-level="6.3.23" data-path="statistical-models.html"><a href="statistical-models.html#to-do"><i class="fa fa-check"></i><b>6.3.23</b> To do</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="statistical-models.html"><a href="statistical-models.html#linear-mixed-model-theory"><i class="fa fa-check"></i><b>6.4</b> Linear mixed model theory</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="statistical-models.html"><a href="statistical-models.html#matrix-format-1"><i class="fa fa-check"></i><b>6.4.1</b> Matrix format</a></li>
<li class="chapter" data-level="6.4.2" data-path="statistical-models.html"><a href="statistical-models.html#exmaple-reducing-the-work-stress-of-nurses"><i class="fa fa-check"></i><b>6.4.2</b> Exmaple: reducing the work stress of nurses</a></li>
<li class="chapter" data-level="6.4.3" data-path="statistical-models.html"><a href="statistical-models.html#dependent-variable-y"><i class="fa fa-check"></i><b>6.4.3</b> Dependent variable, <span class="math inline">\(y\)</span></a></li>
<li class="chapter" data-level="6.4.4" data-path="statistical-models.html"><a href="statistical-models.html#independent-variables-fixed-effects-xs"><i class="fa fa-check"></i><b>6.4.4</b> Independent variables (fixed effects), <span class="math inline">\(Xs\)</span></a></li>
<li class="chapter" data-level="6.4.5" data-path="statistical-models.html"><a href="statistical-models.html#fixed-effect-coefficients-hatbeta"><i class="fa fa-check"></i><b>6.4.5</b> Fixed effect coefficients, <span class="math inline">\(\hat{\beta}\)</span></a></li>
<li class="chapter" data-level="6.4.6" data-path="statistical-models.html"><a href="statistical-models.html#variance--covariance-matrix-of-hatbeta"><i class="fa fa-check"></i><b>6.4.6</b> Variance- covariance matrix of <span class="math inline">\(\hat{\beta}\)</span></a></li>
<li class="chapter" data-level="6.4.7" data-path="statistical-models.html"><a href="statistical-models.html#random-effects-z"><i class="fa fa-check"></i><b>6.4.7</b> Random effects, <span class="math inline">\(Z\)</span></a></li>
<li class="chapter" data-level="6.4.8" data-path="statistical-models.html"><a href="statistical-models.html#random-effects-coefficients-u"><i class="fa fa-check"></i><b>6.4.8</b> Random effects coefficients, <span class="math inline">\(u\)</span></a></li>
<li class="chapter" data-level="6.4.9" data-path="statistical-models.html"><a href="statistical-models.html#variance-covariance-matrix-of-the-random-effects-boldsymbolu"><i class="fa fa-check"></i><b>6.4.9</b> Variance-covariance matrix of the random effects, <span class="math inline">\(\boldsymbol{u}\)</span></a></li>
<li class="chapter" data-level="6.4.10" data-path="statistical-models.html"><a href="statistical-models.html#how-to-solve-sigma2-and-sigma_ub2"><i class="fa fa-check"></i><b>6.4.10</b> How to solve <span class="math inline">\(\sigma^{2}\)</span> and <span class="math inline">\(\sigma_{u(B)}^{2}\)</span></a></li>
<li class="chapter" data-level="6.4.11" data-path="statistical-models.html"><a href="statistical-models.html#residuals-errors-and-their-variance--covariance-matrix"><i class="fa fa-check"></i><b>6.4.11</b> Residuals (errors) and their variance- covariance matrix</a></li>
<li class="chapter" data-level="6.4.12" data-path="statistical-models.html"><a href="statistical-models.html#estimated-parameters"><i class="fa fa-check"></i><b>6.4.12</b> Estimated parameters</a></li>
<li class="chapter" data-level="6.4.13" data-path="statistical-models.html"><a href="statistical-models.html#lmm-equation"><i class="fa fa-check"></i><b>6.4.13</b> LMM equation</a></li>
<li class="chapter" data-level="6.4.14" data-path="statistical-models.html"><a href="statistical-models.html#testing-of-models-also-suitable-for-fixed-effect-coefficients"><i class="fa fa-check"></i><b>6.4.14</b> Testing of models (also suitable for fixed effect coefficients)</a></li>
<li class="chapter" data-level="6.4.15" data-path="statistical-models.html"><a href="statistical-models.html#testing-of-fixed-effect-coefficients-only-ml"><i class="fa fa-check"></i><b>6.4.15</b> Testing of fixed effect coefficients (only ML)</a></li>
<li class="chapter" data-level="6.4.16" data-path="statistical-models.html"><a href="statistical-models.html#the-95-confidence-interval-of-fixed-effect-coefficients"><i class="fa fa-check"></i><b>6.4.16</b> The <span class="math inline">\(95 \%\)</span> confidence interval of fixed effect coefficients</a></li>
<li class="chapter" data-level="6.4.17" data-path="statistical-models.html"><a href="statistical-models.html#testing-of-random-effect-coefficients-typically-variances-reml"><i class="fa fa-check"></i><b>6.4.17</b> Testing of random effect coefficients (typically variances, REML)</a></li>
<li class="chapter" data-level="6.4.18" data-path="statistical-models.html"><a href="statistical-models.html#confidence-intervals-for-random-effects-parameters-variances"><i class="fa fa-check"></i><b>6.4.18</b> Confidence intervals for random effects parameters (variances)</a></li>
<li class="chapter" data-level="6.4.19" data-path="statistical-models.html"><a href="statistical-models.html#model-diagnostics"><i class="fa fa-check"></i><b>6.4.19</b> Model diagnostics</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="statistical-models.html"><a href="statistical-models.html#linear-mixed-model-practice"><i class="fa fa-check"></i><b>6.5</b> Linear mixed model practice</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="statistical-models.html"><a href="statistical-models.html#loading-data-and-library"><i class="fa fa-check"></i><b>6.5.1</b> Loading data and library</a></li>
<li class="chapter" data-level="6.5.2" data-path="statistical-models.html"><a href="statistical-models.html#general-linear-regression"><i class="fa fa-check"></i><b>6.5.2</b> General linear regression</a></li>
<li class="chapter" data-level="6.5.3" data-path="statistical-models.html"><a href="statistical-models.html#generalized-linear-regression"><i class="fa fa-check"></i><b>6.5.3</b> Generalized linear regression</a></li>
<li class="chapter" data-level="6.5.4" data-path="statistical-models.html"><a href="statistical-models.html#varying-intercept-by-adding-a-stratum-variable-as-fixed-effect-glm"><i class="fa fa-check"></i><b>6.5.4</b> Varying intercept by adding a stratum variable as fixed effect (glm)</a></li>
<li class="chapter" data-level="6.5.5" data-path="statistical-models.html"><a href="statistical-models.html#comparisions-of-models"><i class="fa fa-check"></i><b>6.5.5</b> Comparisions of models</a></li>
<li class="chapter" data-level="6.5.6" data-path="statistical-models.html"><a href="statistical-models.html#adding-class-and-school-as-fixed-effects-glm"><i class="fa fa-check"></i><b>6.5.6</b> Adding class and school as fixed effects (glm)</a></li>
<li class="chapter" data-level="6.5.7" data-path="statistical-models.html"><a href="statistical-models.html#considering-different-slopes-by-stratum-glm"><i class="fa fa-check"></i><b>6.5.7</b> Considering different slopes by stratum (glm)</a></li>
<li class="chapter" data-level="6.5.8" data-path="statistical-models.html"><a href="statistical-models.html#varying-intercept-with-lmm"><i class="fa fa-check"></i><b>6.5.8</b> Varying intercept with LMM</a></li>
<li class="chapter" data-level="6.5.9" data-path="statistical-models.html"><a href="statistical-models.html#varying-slope-with-lmm"><i class="fa fa-check"></i><b>6.5.9</b> Varying slope with LMM</a></li>
<li class="chapter" data-level="6.5.10" data-path="statistical-models.html"><a href="statistical-models.html#summary-the-model-8"><i class="fa fa-check"></i><b>6.5.10</b> Summary the model 8</a></li>
<li class="chapter" data-level="6.5.11" data-path="statistical-models.html"><a href="statistical-models.html#extracting-elements-parameters"><i class="fa fa-check"></i><b>6.5.11</b> Extracting elements (parameters)</a></li>
<li class="chapter" data-level="6.5.12" data-path="statistical-models.html"><a href="statistical-models.html#model-diagnostics-1"><i class="fa fa-check"></i><b>6.5.12</b> Model diagnostics</a></li>
<li class="chapter" data-level="6.5.13" data-path="statistical-models.html"><a href="statistical-models.html#notice"><i class="fa fa-check"></i><b>6.5.13</b> Notice</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="statistical-models.html"><a href="statistical-models.html#linear-mixed-model-covariance-decomposition-with-random-intercept--lme4"><i class="fa fa-check"></i><b>6.6</b> Linear mixed model covariance decomposition with random intercept- lme4</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="statistical-models.html"><a href="statistical-models.html#load-data-1"><i class="fa fa-check"></i><b>6.6.1</b> Load data</a></li>
<li class="chapter" data-level="6.6.2" data-path="statistical-models.html"><a href="statistical-models.html#using-glm"><i class="fa fa-check"></i><b>6.6.2</b> Using glm</a></li>
<li class="chapter" data-level="6.6.3" data-path="statistical-models.html"><a href="statistical-models.html#using-glm-with-random-slopes"><i class="fa fa-check"></i><b>6.6.3</b> Using glm with random slopes</a></li>
<li class="chapter" data-level="6.6.4" data-path="statistical-models.html"><a href="statistical-models.html#using-lmm"><i class="fa fa-check"></i><b>6.6.4</b> Using lmm</a></li>
<li class="chapter" data-level="6.6.5" data-path="statistical-models.html"><a href="statistical-models.html#get-xyz"><i class="fa fa-check"></i><b>6.6.5</b> Get x,y,z</a></li>
<li class="chapter" data-level="6.6.6" data-path="statistical-models.html"><a href="statistical-models.html#get-fixed-effect-and-random-effect-coefficients"><i class="fa fa-check"></i><b>6.6.6</b> Get fixed effect and random effect coefficients</a></li>
<li class="chapter" data-level="6.6.7" data-path="statistical-models.html"><a href="statistical-models.html#get-random-effect-covariance-structure-covariance-matrix-expandation"><i class="fa fa-check"></i><b>6.6.7</b> Get random effect covariance structure (covariance matrix expandation)</a></li>
<li class="chapter" data-level="6.6.8" data-path="statistical-models.html"><a href="statistical-models.html#get-residual-variance-and-its-identity-matrix"><i class="fa fa-check"></i><b>6.6.8</b> Get residual variance and its identity matrix</a></li>
<li class="chapter" data-level="6.6.9" data-path="statistical-models.html"><a href="statistical-models.html#get-y-covariance-matrix"><i class="fa fa-check"></i><b>6.6.9</b> Get y covariance matrix</a></li>
<li class="chapter" data-level="6.6.10" data-path="statistical-models.html"><a href="statistical-models.html#get-fixed-effect-coefficients-covariance-matrix"><i class="fa fa-check"></i><b>6.6.10</b> Get fixed effect coefficients covariance matrix</a></li>
<li class="chapter" data-level="6.6.11" data-path="statistical-models.html"><a href="statistical-models.html#get-random-effect-coefficients-covariance-matrix-standard-deviation"><i class="fa fa-check"></i><b>6.6.11</b> Get random effect coefficients covariance matrix (standard deviation)</a></li>
<li class="chapter" data-level="6.6.12" data-path="statistical-models.html"><a href="statistical-models.html#computer-fixed-effect-coefficients"><i class="fa fa-check"></i><b>6.6.12</b> Computer fixed effect coefficients</a></li>
<li class="chapter" data-level="6.6.13" data-path="statistical-models.html"><a href="statistical-models.html#computer-covariance-of-fixed-efffect-coefficients"><i class="fa fa-check"></i><b>6.6.13</b> Computer covariance of fixed efffect coefficients</a></li>
<li class="chapter" data-level="6.6.14" data-path="statistical-models.html"><a href="statistical-models.html#computer-random-effect-coefficients"><i class="fa fa-check"></i><b>6.6.14</b> Computer random effect coefficients</a></li>
<li class="chapter" data-level="6.6.15" data-path="statistical-models.html"><a href="statistical-models.html#computer-predicted-values"><i class="fa fa-check"></i><b>6.6.15</b> Computer predicted values</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="statistical-models.html"><a href="statistical-models.html#linear-mixed-model-covariance-decomposition-with-random-slopes--lme4"><i class="fa fa-check"></i><b>6.7</b> Linear mixed model covariance decomposition with random slopes- lme4</a>
<ul>
<li class="chapter" data-level="6.7.1" data-path="statistical-models.html"><a href="statistical-models.html#load-data-2"><i class="fa fa-check"></i><b>6.7.1</b> Load data</a></li>
<li class="chapter" data-level="6.7.2" data-path="statistical-models.html"><a href="statistical-models.html#using-lmm-1"><i class="fa fa-check"></i><b>6.7.2</b> Using lmm</a></li>
<li class="chapter" data-level="6.7.3" data-path="statistical-models.html"><a href="statistical-models.html#get-xyz-1"><i class="fa fa-check"></i><b>6.7.3</b> Get x,y,z</a></li>
<li class="chapter" data-level="6.7.4" data-path="statistical-models.html"><a href="statistical-models.html#get-fixed-effect-and-random-effect-coefficients-1"><i class="fa fa-check"></i><b>6.7.4</b> Get fixed effect and random effect coefficients</a></li>
<li class="chapter" data-level="6.7.5" data-path="statistical-models.html"><a href="statistical-models.html#get-random-effect-covariance-structure-covariance-matrix-expandation-1"><i class="fa fa-check"></i><b>6.7.5</b> Get random effect covariance structure (covariance matrix expandation)</a></li>
<li class="chapter" data-level="6.7.6" data-path="statistical-models.html"><a href="statistical-models.html#get-residual-variance-and-its-identity-matrix-1"><i class="fa fa-check"></i><b>6.7.6</b> Get residual variance and its identity matrix</a></li>
<li class="chapter" data-level="6.7.7" data-path="statistical-models.html"><a href="statistical-models.html#get-y-covariance-matrix-1"><i class="fa fa-check"></i><b>6.7.7</b> Get y covariance matrix</a></li>
<li class="chapter" data-level="6.7.8" data-path="statistical-models.html"><a href="statistical-models.html#get-fixed-effect-coefficients-covariance-matrix-1"><i class="fa fa-check"></i><b>6.7.8</b> Get fixed effect coefficients covariance matrix</a></li>
<li class="chapter" data-level="6.7.9" data-path="statistical-models.html"><a href="statistical-models.html#get-random-effect-coefficients-covariance-matrix-standard-deviation-1"><i class="fa fa-check"></i><b>6.7.9</b> Get random effect coefficients covariance matrix (standard deviation)</a></li>
<li class="chapter" data-level="6.7.10" data-path="statistical-models.html"><a href="statistical-models.html#computer-fixed-effect-coefficients-1"><i class="fa fa-check"></i><b>6.7.10</b> Computer fixed effect coefficients</a></li>
<li class="chapter" data-level="6.7.11" data-path="statistical-models.html"><a href="statistical-models.html#computer-covariance-of-fixed-efffect-coefficients-1"><i class="fa fa-check"></i><b>6.7.11</b> Computer covariance of fixed efffect coefficients</a></li>
<li class="chapter" data-level="6.7.12" data-path="statistical-models.html"><a href="statistical-models.html#computer-random-effect-coefficients-1"><i class="fa fa-check"></i><b>6.7.12</b> Computer random effect coefficients</a></li>
<li class="chapter" data-level="6.7.13" data-path="statistical-models.html"><a href="statistical-models.html#computer-predicted-values-1"><i class="fa fa-check"></i><b>6.7.13</b> Computer predicted values</a></li>
<li class="chapter" data-level="6.7.14" data-path="statistical-models.html"><a href="statistical-models.html#using-lmm-with-two-grouping-factors"><i class="fa fa-check"></i><b>6.7.14</b> Using lmm with two grouping factors</a></li>
<li class="chapter" data-level="6.7.15" data-path="statistical-models.html"><a href="statistical-models.html#get-z2"><i class="fa fa-check"></i><b>6.7.15</b> Get z2</a></li>
<li class="chapter" data-level="6.7.16" data-path="statistical-models.html"><a href="statistical-models.html#using-lmm-with-nested-or-crossed-random-effects"><i class="fa fa-check"></i><b>6.7.16</b> Using lmm with nested or crossed random effects</a></li>
<li class="chapter" data-level="6.7.17" data-path="statistical-models.html"><a href="statistical-models.html#get-z3"><i class="fa fa-check"></i><b>6.7.17</b> Get z3</a></li>
</ul></li>
<li class="chapter" data-level="6.8" data-path="statistical-models.html"><a href="statistical-models.html#linear-mixed-model-covariance-decomposition-nlme"><i class="fa fa-check"></i><b>6.8</b> Linear mixed model covariance decomposition (nlme)</a>
<ul>
<li class="chapter" data-level="6.8.1" data-path="statistical-models.html"><a href="statistical-models.html#load-data-3"><i class="fa fa-check"></i><b>6.8.1</b> Load data</a></li>
<li class="chapter" data-level="6.8.2" data-path="statistical-models.html"><a href="statistical-models.html#using-lme-nlme"><i class="fa fa-check"></i><b>6.8.2</b> Using lme (nlme)</a></li>
<li class="chapter" data-level="6.8.3" data-path="statistical-models.html"><a href="statistical-models.html#model-diagnosing"><i class="fa fa-check"></i><b>6.8.3</b> Model diagnosing</a></li>
<li class="chapter" data-level="6.8.4" data-path="statistical-models.html"><a href="statistical-models.html#get-x-y-z-matrixs-using-lme4"><i class="fa fa-check"></i><b>6.8.4</b> Get x, y, z matrixs (using lme4)</a></li>
<li class="chapter" data-level="6.8.5" data-path="statistical-models.html"><a href="statistical-models.html#fixed-effect-coefficient"><i class="fa fa-check"></i><b>6.8.5</b> Fixed effect coefficient</a></li>
<li class="chapter" data-level="6.8.6" data-path="statistical-models.html"><a href="statistical-models.html#random-effect-coefficient"><i class="fa fa-check"></i><b>6.8.6</b> Random effect coefficient</a></li>
<li class="chapter" data-level="6.8.7" data-path="statistical-models.html"><a href="statistical-models.html#fixed-effect-coefficients-covariance"><i class="fa fa-check"></i><b>6.8.7</b> Fixed effect coefficients covariance</a></li>
<li class="chapter" data-level="6.8.8" data-path="statistical-models.html"><a href="statistical-models.html#random-effect-covariance-and-correlation"><i class="fa fa-check"></i><b>6.8.8</b> Random effect covariance and correlation</a></li>
<li class="chapter" data-level="6.8.9" data-path="statistical-models.html"><a href="statistical-models.html#get-y-covariance-directly"><i class="fa fa-check"></i><b>6.8.9</b> Get y covariance directly</a></li>
<li class="chapter" data-level="6.8.10" data-path="statistical-models.html"><a href="statistical-models.html#residual-variance"><i class="fa fa-check"></i><b>6.8.10</b> Residual variance</a></li>
<li class="chapter" data-level="6.8.11" data-path="statistical-models.html"><a href="statistical-models.html#compute-fixed-effect-coefficients"><i class="fa fa-check"></i><b>6.8.11</b> Compute fixed effect coefficients</a></li>
<li class="chapter" data-level="6.8.12" data-path="statistical-models.html"><a href="statistical-models.html#compute-covariance-of-fixed-efffect-coefficients"><i class="fa fa-check"></i><b>6.8.12</b> Compute covariance of fixed efffect coefficients</a></li>
<li class="chapter" data-level="6.8.13" data-path="statistical-models.html"><a href="statistical-models.html#compute-random-effect-coefficients"><i class="fa fa-check"></i><b>6.8.13</b> Compute random effect coefficients</a></li>
<li class="chapter" data-level="6.8.14" data-path="statistical-models.html"><a href="statistical-models.html#compute-predicted-values"><i class="fa fa-check"></i><b>6.8.14</b> Compute predicted values</a></li>
<li class="chapter" data-level="6.8.15" data-path="statistical-models.html"><a href="statistical-models.html#using-lme-with-gaussian"><i class="fa fa-check"></i><b>6.8.15</b> Using lme with Gaussian</a></li>
<li class="chapter" data-level="6.8.16" data-path="statistical-models.html"><a href="statistical-models.html#using-lme-with-autoregressive"><i class="fa fa-check"></i><b>6.8.16</b> Using lme with autoregressive</a></li>
<li class="chapter" data-level="6.8.17" data-path="statistical-models.html"><a href="statistical-models.html#using-lme-with-exponential"><i class="fa fa-check"></i><b>6.8.17</b> Using lme with exponential</a></li>
<li class="chapter" data-level="6.8.18" data-path="statistical-models.html"><a href="statistical-models.html#using-lme-with-unstructured"><i class="fa fa-check"></i><b>6.8.18</b> Using lme with unstructured</a></li>
<li class="chapter" data-level="6.8.19" data-path="statistical-models.html"><a href="statistical-models.html#using-lme-with-compound-symm"><i class="fa fa-check"></i><b>6.8.19</b> Using lme with compound symm</a></li>
<li class="chapter" data-level="6.8.20" data-path="statistical-models.html"><a href="statistical-models.html#using-gls-with-unstructured-corsymm"><i class="fa fa-check"></i><b>6.8.20</b> Using gls with unstructured, corSymm</a></li>
<li class="chapter" data-level="6.8.21" data-path="statistical-models.html"><a href="statistical-models.html#using-gls-with-compound-symm-which-lmer-model-default-lme-default-lme-compound-symm-lme-auto-reg-in-this-example"><i class="fa fa-check"></i><b>6.8.21</b> Using gls with compound symm, which = lmer model default = lme default = lme compound symm =lme auto reg in this example</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="probability.html"><a href="probability.html"><i class="fa fa-check"></i><b>7</b> Probability</a>
<ul>
<li class="chapter" data-level="7.1" data-path="probability.html"><a href="probability.html#probability-basics"><i class="fa fa-check"></i><b>7.1</b> Probability basics</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="probability.html"><a href="probability.html#events"><i class="fa fa-check"></i><b>7.1.1</b> Events</a></li>
<li class="chapter" data-level="7.1.2" data-path="probability.html"><a href="probability.html#probability-formulas"><i class="fa fa-check"></i><b>7.1.2</b> Probability formulas</a></li>
<li class="chapter" data-level="7.1.3" data-path="probability.html"><a href="probability.html#calculation-of-probability-operations"><i class="fa fa-check"></i><b>7.1.3</b> Calculation of probability (operations)</a></li>
<li class="chapter" data-level="7.1.4" data-path="probability.html"><a href="probability.html#bayess-theorem"><i class="fa fa-check"></i><b>7.1.4</b> Bayes’s theorem</a></li>
<li class="chapter" data-level="7.1.5" data-path="probability.html"><a href="probability.html#random-variables-and-distribution-functions"><i class="fa fa-check"></i><b>7.1.5</b> Random variables and distribution functions</a></li>
<li class="chapter" data-level="7.1.6" data-path="probability.html"><a href="probability.html#probability-distribution"><i class="fa fa-check"></i><b>7.1.6</b> Probability distribution</a></li>
<li class="chapter" data-level="7.1.7" data-path="probability.html"><a href="probability.html#conditional-expectation"><i class="fa fa-check"></i><b>7.1.7</b> Conditional expectation</a></li>
<li class="chapter" data-level="7.1.8" data-path="probability.html"><a href="probability.html#conditional-variance"><i class="fa fa-check"></i><b>7.1.8</b> Conditional variance</a></li>
<li class="chapter" data-level="7.1.9" data-path="probability.html"><a href="probability.html#sampling"><i class="fa fa-check"></i><b>7.1.9</b> Sampling</a></li>
<li class="chapter" data-level="7.1.10" data-path="probability.html"><a href="probability.html#confidence-interval"><i class="fa fa-check"></i><b>7.1.10</b> Confidence interval</a></li>
<li class="chapter" data-level="7.1.11" data-path="probability.html"><a href="probability.html#introduction-to-hypothesis-testing"><i class="fa fa-check"></i><b>7.1.11</b> Introduction to Hypothesis Testing</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="probability.html"><a href="probability.html#probability-r-practice"><i class="fa fa-check"></i><b>7.2</b> Probability R practice</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="probability.html"><a href="probability.html#integrate"><i class="fa fa-check"></i><b>7.2.1</b> Integrate</a></li>
<li class="chapter" data-level="7.2.2" data-path="probability.html"><a href="probability.html#derivation"><i class="fa fa-check"></i><b>7.2.2</b> Derivation</a></li>
<li class="chapter" data-level="7.2.3" data-path="probability.html"><a href="probability.html#create-random-variables-with-specific-distributions"><i class="fa fa-check"></i><b>7.2.3</b> Create random variables with specific distributions</a></li>
<li class="chapter" data-level="7.2.4" data-path="probability.html"><a href="probability.html#prob-function"><i class="fa fa-check"></i><b>7.2.4</b> Prob function</a></li>
<li class="chapter" data-level="7.2.5" data-path="probability.html"><a href="probability.html#vector-and-operations"><i class="fa fa-check"></i><b>7.2.5</b> Vector and operations</a></li>
<li class="chapter" data-level="7.2.6" data-path="probability.html"><a href="probability.html#select-and-substitute-elements-of-vector"><i class="fa fa-check"></i><b>7.2.6</b> Select and substitute elements of vector</a></li>
<li class="chapter" data-level="7.2.7" data-path="probability.html"><a href="probability.html#matrix-and-operations"><i class="fa fa-check"></i><b>7.2.7</b> Matrix and operations</a></li>
<li class="chapter" data-level="7.2.8" data-path="probability.html"><a href="probability.html#compute-inverse-determinant-and-eigen-values-of-matrix"><i class="fa fa-check"></i><b>7.2.8</b> Compute inverse, determinant and eigen values of matrix</a></li>
<li class="chapter" data-level="7.2.9" data-path="probability.html"><a href="probability.html#dataframe"><i class="fa fa-check"></i><b>7.2.9</b> Dataframe</a></li>
<li class="chapter" data-level="7.2.10" data-path="probability.html"><a href="probability.html#solve-problems-using-simulation"><i class="fa fa-check"></i><b>7.2.10</b> Solve problems using simulation</a></li>
<li class="chapter" data-level="7.2.11" data-path="probability.html"><a href="probability.html#permutations-and-combinations"><i class="fa fa-check"></i><b>7.2.11</b> Permutations and combinations</a></li>
<li class="chapter" data-level="7.2.12" data-path="probability.html"><a href="probability.html#search-value-position-in-vector"><i class="fa fa-check"></i><b>7.2.12</b> Search value position in vector</a></li>
<li class="chapter" data-level="7.2.13" data-path="probability.html"><a href="probability.html#solve-directly-and-optimize"><i class="fa fa-check"></i><b>7.2.13</b> Solve directly and optimize</a></li>
<li class="chapter" data-level="7.2.14" data-path="probability.html"><a href="probability.html#calculate-probability-using-simulation-method"><i class="fa fa-check"></i><b>7.2.14</b> Calculate probability using simulation method</a></li>
<li class="chapter" data-level="7.2.15" data-path="probability.html"><a href="probability.html#discrete-random-variable"><i class="fa fa-check"></i><b>7.2.15</b> Discrete random variable</a></li>
<li class="chapter" data-level="7.2.16" data-path="probability.html"><a href="probability.html#exponent-distribution"><i class="fa fa-check"></i><b>7.2.16</b> Exponent distribution</a></li>
<li class="chapter" data-level="7.2.17" data-path="probability.html"><a href="probability.html#normal-distribution-plot"><i class="fa fa-check"></i><b>7.2.17</b> Normal distribution plot</a></li>
<li class="chapter" data-level="7.2.18" data-path="probability.html"><a href="probability.html#distribution-of-random-variable-function"><i class="fa fa-check"></i><b>7.2.18</b> Distribution of random variable function</a></li>
<li class="chapter" data-level="7.2.19" data-path="probability.html"><a href="probability.html#join-and-margin-probability"><i class="fa fa-check"></i><b>7.2.19</b> Join and margin probability</a></li>
<li class="chapter" data-level="7.2.20" data-path="probability.html"><a href="probability.html#multiple-random-variables-plots"><i class="fa fa-check"></i><b>7.2.20</b> Multiple random variables plots</a></li>
<li class="chapter" data-level="7.2.21" data-path="probability.html"><a href="probability.html#generate-a-circle-using-simulated-random-dots"><i class="fa fa-check"></i><b>7.2.21</b> Generate a circle using simulated random dots</a></li>
<li class="chapter" data-level="7.2.22" data-path="probability.html"><a href="probability.html#expectation"><i class="fa fa-check"></i><b>7.2.22</b> Expectation</a></li>
<li class="chapter" data-level="7.2.23" data-path="probability.html"><a href="probability.html#central-limit-theorem"><i class="fa fa-check"></i><b>7.2.23</b> Central Limit Theorem</a></li>
<li class="chapter" data-level="7.2.24" data-path="probability.html"><a href="probability.html#law-of-large-numbers"><i class="fa fa-check"></i><b>7.2.24</b> Law of large numbers</a></li>
<li class="chapter" data-level="7.2.25" data-path="probability.html"><a href="probability.html#empirical-distribution"><i class="fa fa-check"></i><b>7.2.25</b> Empirical distribution</a></li>
<li class="chapter" data-level="7.2.26" data-path="probability.html"><a href="probability.html#maximum-likelihood-estimate"><i class="fa fa-check"></i><b>7.2.26</b> Maximum likelihood estimate</a></li>
<li class="chapter" data-level="7.2.27" data-path="probability.html"><a href="probability.html#t-distribution-f-distribution-plots-and-common-distributions"><i class="fa fa-check"></i><b>7.2.27</b> t distribution, F distribution plots, and common distributions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="algorithms.html"><a href="algorithms.html"><i class="fa fa-check"></i><b>8</b> Algorithms</a>
<ul>
<li class="chapter" data-level="8.1" data-path="algorithms.html"><a href="algorithms.html#maximum-likelihood-estimation"><i class="fa fa-check"></i><b>8.1</b> Maximum likelihood estimation</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="algorithms.html"><a href="algorithms.html#likelihood-estimation"><i class="fa fa-check"></i><b>8.1.1</b> Likelihood estimation</a></li>
<li class="chapter" data-level="8.1.2" data-path="algorithms.html"><a href="algorithms.html#r-demonstration"><i class="fa fa-check"></i><b>8.1.2</b> <code>R demonstration</code></a></li>
<li class="chapter" data-level="8.1.3" data-path="algorithms.html"><a href="algorithms.html#estimate-confidence-intervals-using-the-likelihood"><i class="fa fa-check"></i><b>8.1.3</b> Estimate confidence intervals using the likelihood</a></li>
<li class="chapter" data-level="8.1.4" data-path="algorithms.html"><a href="algorithms.html#the-profile-likelihood"><i class="fa fa-check"></i><b>8.1.4</b> The profile likelihood</a></li>
<li class="chapter" data-level="8.1.5" data-path="algorithms.html"><a href="algorithms.html#maximum-likelihood-estimate-practice"><i class="fa fa-check"></i><b>8.1.5</b> Maximum likelihood estimate practice</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="algorithms.html"><a href="algorithms.html#gradient-descent"><i class="fa fa-check"></i><b>8.2</b> Gradient descent</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="sasmarkdown.html"><a href="sasmarkdown.html"><i class="fa fa-check"></i><b>9</b> SASmarkdown</a>
<ul>
<li class="chapter" data-level="9.1" data-path="sasmarkdown.html"><a href="sasmarkdown.html#how-to-install-sasmarkdown"><i class="fa fa-check"></i><b>9.1</b> How to install sasmarkdown</a></li>
<li class="chapter" data-level="9.2" data-path="sasmarkdown.html"><a href="sasmarkdown.html#common-statements"><i class="fa fa-check"></i><b>9.2</b> Common statements</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="miscellaneous.html"><a href="miscellaneous.html"><i class="fa fa-check"></i><b>10</b> Miscellaneous</a>
<ul>
<li class="chapter" data-level="10.1" data-path="miscellaneous.html"><a href="miscellaneous.html#linear-algebra"><i class="fa fa-check"></i><b>10.1</b> Linear algebra</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="miscellaneous.html"><a href="miscellaneous.html#matrix-basics"><i class="fa fa-check"></i><b>10.1.1</b> Matrix basics</a></li>
<li class="chapter" data-level="10.1.2" data-path="miscellaneous.html"><a href="miscellaneous.html#operations"><i class="fa fa-check"></i><b>10.1.2</b> Operations</a></li>
<li class="chapter" data-level="10.1.3" data-path="miscellaneous.html"><a href="miscellaneous.html#advanced-operations"><i class="fa fa-check"></i><b>10.1.3</b> Advanced operations</a></li>
<li class="chapter" data-level="10.1.4" data-path="miscellaneous.html"><a href="miscellaneous.html#solve-linear-equations"><i class="fa fa-check"></i><b>10.1.4</b> Solve linear equations</a></li>
<li class="chapter" data-level="10.1.5" data-path="miscellaneous.html"><a href="miscellaneous.html#summary"><i class="fa fa-check"></i><b>10.1.5</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="miscellaneous.html"><a href="miscellaneous.html#calculus"><i class="fa fa-check"></i><b>10.2</b> Calculus</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="miscellaneous.html"><a href="miscellaneous.html#derivation-1"><i class="fa fa-check"></i><b>10.2.1</b> Derivation</a></li>
<li class="chapter" data-level="10.2.2" data-path="miscellaneous.html"><a href="miscellaneous.html#integration"><i class="fa fa-check"></i><b>10.2.2</b> Integration</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="miscellaneous.html"><a href="miscellaneous.html#sample-size-calculation"><i class="fa fa-check"></i><b>10.3</b> Sample size calculation</a></li>
<li class="chapter" data-level="10.4" data-path="miscellaneous.html"><a href="miscellaneous.html#how-to-evaluate-z-score"><i class="fa fa-check"></i><b>10.4</b> How to evaluate z score</a></li>
<li class="chapter" data-level="10.5" data-path="miscellaneous.html"><a href="miscellaneous.html#how-to-create-a-bookdown"><i class="fa fa-check"></i><b>10.5</b> How to create a bookdown</a></li>
<li class="chapter" data-level="10.6" data-path="miscellaneous.html"><a href="miscellaneous.html#how-to-create-a-blogdown"><i class="fa fa-check"></i><b>10.6</b> How to create a blogdown</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="english.html"><a href="english.html"><i class="fa fa-check"></i><b>11</b> English</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">My Little Handbook</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-visualization" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">4</span> Data visualization<a href="data-visualization.html#data-visualization" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<!-- ================ -->
<div id="data-visualization-introduction" class="section level2 hasAnchor" number="4.1">
<h2><span class="header-section-number">4.1</span> Data visualization introduction<a href="data-visualization.html#data-visualization-introduction" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="summarization" class="section level3 hasAnchor" number="4.1.1">
<h3><span class="header-section-number">4.1.1</span> Summarization<a href="data-visualization.html#summarization" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb290"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb290-1"><a href="data-visualization.html#cb290-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb290-2"><a href="data-visualization.html#cb290-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb290-3"><a href="data-visualization.html#cb290-3" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">%&gt;%</span></span>
<span id="cb290-4"><a href="data-visualization.html#cb290-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>( <span class="at">kml =</span> mpg <span class="sc">*</span> <span class="fl">0.42</span>) <span class="sc">%&gt;%</span></span>
<span id="cb290-5"><a href="data-visualization.html#cb290-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(cyl) <span class="sc">%&gt;%</span></span>
<span id="cb290-6"><a href="data-visualization.html#cb290-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">summarise</span>(<span class="at">avg_US =</span> <span class="fu">mean</span>(mpg), <span class="at">avg_metric =</span> <span class="fu">mean</span>(kml))</span></code></pre></div>
<pre><code>## # A tibble: 3 × 3
##     cyl avg_US avg_metric
##   &lt;dbl&gt;  &lt;dbl&gt;      &lt;dbl&gt;
## 1     4   26.7      11.2 
## 2     6   19.7       8.29
## 3     8   15.1       6.34</code></pre>
<div class="sourceCode" id="cb292"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb292-1"><a href="data-visualization.html#cb292-1" aria-hidden="true" tabindex="-1"></a>mpg <span class="sc">%&gt;%</span> </span>
<span id="cb292-2"><a href="data-visualization.html#cb292-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(manufacturer, year) <span class="sc">%&gt;%</span> </span>
<span id="cb292-3"><a href="data-visualization.html#cb292-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise_at</span>(<span class="fu">vars</span>(cty, hwy), mean)</span></code></pre></div>
<pre><code>## # A tibble: 30 × 4
## # Groups:   manufacturer [15]
##    manufacturer  year   cty   hwy
##    &lt;chr&gt;        &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1 audi          1999  17.1  26.1
##  2 audi          2008  18.1  26.8
##  3 chevrolet     1999  15.1  21.6
##  4 chevrolet     2008  14.9  22.1
##  5 dodge         1999  13.4  18.4
##  6 dodge         2008  13.0  17.6
##  7 ford          1999  13.9  18.6
##  8 ford          2008  14.1  20.5
##  9 honda         1999  24.8  31.6
## 10 honda         2008  24    33.8
## # … with 20 more rows</code></pre>
<ul>
<li>change layout</li>
</ul>
<div class="sourceCode" id="cb294"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb294-1"><a href="data-visualization.html#cb294-1" aria-hidden="true" tabindex="-1"></a>mpg <span class="sc">%&gt;%</span> <span class="fu">count</span>(class, year)<span class="sc">%&gt;%</span> </span>
<span id="cb294-2"><a href="data-visualization.html#cb294-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spread</span>(class, n) </span></code></pre></div>
<pre><code>## # A tibble: 2 × 8
##    year `2seater` compact midsize minivan pickup subcompact   suv
##   &lt;int&gt;     &lt;int&gt;   &lt;int&gt;   &lt;int&gt;   &lt;int&gt;  &lt;int&gt;      &lt;int&gt; &lt;int&gt;
## 1  1999         2      25      20       6     16         19    29
## 2  2008         3      22      21       5     17         16    33</code></pre>
<ul>
<li>change all characters into factors</li>
</ul>
<div class="sourceCode" id="cb296"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb296-1"><a href="data-visualization.html#cb296-1" aria-hidden="true" tabindex="-1"></a>mpg <span class="ot">&lt;-</span> mpg <span class="sc">%&gt;%</span> </span>
<span id="cb296-2"><a href="data-visualization.html#cb296-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_if</span>(is.character, as.factor) <span class="co">#if a column is a character, change to a factor</span></span></code></pre></div>
<ul>
<li>wide to long data</li>
</ul>
<div class="sourceCode" id="cb297"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb297-1"><a href="data-visualization.html#cb297-1" aria-hidden="true" tabindex="-1"></a>mpg1 <span class="ot">&lt;-</span> mpg <span class="sc">%&gt;%</span> </span>
<span id="cb297-2"><a href="data-visualization.html#cb297-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gather</span>(<span class="st">&quot;key&quot;</span>, <span class="st">&quot;value&quot;</span>, cty, hwy)</span></code></pre></div>
<ul>
<li>convert wide data to long data using <code>pivot_longer</code></li>
</ul>
<div class="sourceCode" id="cb298"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb298-1"><a href="data-visualization.html#cb298-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Your code here. Naming choices for 1 and 2 are yours</span></span>
<span id="cb298-2"><a href="data-visualization.html#cb298-2" aria-hidden="true" tabindex="-1"></a>dta <span class="ot">&lt;-</span> mpg <span class="sc">%&gt;%</span> </span>
<span id="cb298-3"><a href="data-visualization.html#cb298-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(cty<span class="sc">:</span>hwy, <span class="at">names_to =</span> <span class="st">&quot;var&quot;</span>, <span class="at">values_to =</span> <span class="st">&quot;value&quot;</span>) <span class="sc">%&gt;%</span>  <span class="co"># Both of those are </span></span>
<span id="cb298-4"><a href="data-visualization.html#cb298-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># value label</span></span>
<span id="cb298-5"><a href="data-visualization.html#cb298-5" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">var =</span> <span class="fu">ifelse</span>( var <span class="sc">==</span> <span class="st">&#39;cty&#39;</span>, <span class="st">&#39;city&#39;</span>,<span class="st">&#39;highway&#39;</span>))</span>
<span id="cb298-6"><a href="data-visualization.html#cb298-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb298-7"><a href="data-visualization.html#cb298-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dta, <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> value)) <span class="sc">+</span> </span>
<span id="cb298-8"><a href="data-visualization.html#cb298-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> var))  <span class="sc">+</span></span>
<span id="cb298-9"><a href="data-visualization.html#cb298-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">color =</span> var), <span class="at">se =</span> F)</span></code></pre></div>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-140-1.png" width="672" /></p>
<ul>
<li>explore distribution</li>
</ul>
<div class="sourceCode" id="cb300"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb300-1"><a href="data-visualization.html#cb300-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DataExplorer)</span>
<span id="cb300-2"><a href="data-visualization.html#cb300-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(psych)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;psych&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:Hmisc&#39;:
## 
##     describe</code></pre>
<pre><code>## The following object is masked from &#39;package:plotrix&#39;:
## 
##     rescale</code></pre>
<pre><code>## The following objects are masked from &#39;package:ggplot2&#39;:
## 
##     %+%, alpha</code></pre>
<div class="sourceCode" id="cb305"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb305-1"><a href="data-visualization.html#cb305-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(naniar)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;naniar&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:skimr&#39;:
## 
##     n_complete</code></pre>
<div class="sourceCode" id="cb308"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb308-1"><a href="data-visualization.html#cb308-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_histogram</span>(riskfactors)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-141-1.png" width="672" /></p>
<ul>
<li>explore relationship/correlation</li>
</ul>
<div class="sourceCode" id="cb309"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb309-1"><a href="data-visualization.html#cb309-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(psych)</span>
<span id="cb309-2"><a href="data-visualization.html#cb309-2" aria-hidden="true" tabindex="-1"></a><span class="fu">pairs.panels</span>(riskfactors[,<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>])</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-142-1.png" width="672" /></p>
<ul>
<li>create a individual theme</li>
</ul>
<div class="sourceCode" id="cb310"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb310-1"><a href="data-visualization.html#cb310-1" aria-hidden="true" tabindex="-1"></a>my_theme <span class="ot">&lt;-</span> <span class="cf">function</span>(){</span>
<span id="cb310-2"><a href="data-visualization.html#cb310-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb310-3"><a href="data-visualization.html#cb310-3" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb310-4"><a href="data-visualization.html#cb310-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">16</span>),</span>
<span id="cb310-5"><a href="data-visualization.html#cb310-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">14</span>),</span>
<span id="cb310-6"><a href="data-visualization.html#cb310-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>))</span>
<span id="cb310-7"><a href="data-visualization.html#cb310-7" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="explore-missing-values" class="section level3 hasAnchor" number="4.1.2">
<h3><span class="header-section-number">4.1.2</span> Explore missing values<a href="data-visualization.html#explore-missing-values" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb311"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb311-1"><a href="data-visualization.html#cb311-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages(&quot;naniar&quot;)</span></span>
<span id="cb311-2"><a href="data-visualization.html#cb311-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(naniar)</span>
<span id="cb311-3"><a href="data-visualization.html#cb311-3" aria-hidden="true" tabindex="-1"></a><span class="co"># head(riskfactors)</span></span>
<span id="cb311-4"><a href="data-visualization.html#cb311-4" aria-hidden="true" tabindex="-1"></a>riskfactors <span class="ot">&lt;-</span> riskfactors</span></code></pre></div>
<div class="sourceCode" id="cb312"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb312-1"><a href="data-visualization.html#cb312-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_upset</span>(riskfactors,<span class="at">nsets=</span><span class="dv">10</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-145-1.png" width="672" /></p>
<div class="sourceCode" id="cb313"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb313-1"><a href="data-visualization.html#cb313-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages(&quot;DataExplorer&quot;)</span></span>
<span id="cb313-2"><a href="data-visualization.html#cb313-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb313-3"><a href="data-visualization.html#cb313-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_missing</span>(riskfactors)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-146-1.png" width="672" /></p>
<div class="sourceCode" id="cb314"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb314-1"><a href="data-visualization.html#cb314-1" aria-hidden="true" tabindex="-1"></a><span class="co"># take a quick look at the data types of each column</span></span>
<span id="cb314-2"><a href="data-visualization.html#cb314-2" aria-hidden="true" tabindex="-1"></a>visdat<span class="sc">::</span><span class="fu">vis_dat</span>(riskfactors)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-147-1.png" width="672" /></p>
</div>
<div id="add-statistical-test" class="section level3 hasAnchor" number="4.1.3">
<h3><span class="header-section-number">4.1.3</span> Add statistical test<a href="data-visualization.html#add-statistical-test" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb315"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb315-1"><a href="data-visualization.html#cb315-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggpubr)</span>
<span id="cb315-2"><a href="data-visualization.html#cb315-2" aria-hidden="true" tabindex="-1"></a>plt <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(  <span class="at">data=</span>mpg,</span>
<span id="cb315-3"><a href="data-visualization.html#cb315-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">mapping=</span> <span class="fu">aes</span>(<span class="at">x =</span>  <span class="fu">as.factor</span>(year),</span>
<span id="cb315-4"><a href="data-visualization.html#cb315-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">y =</span> cty,</span>
<span id="cb315-5"><a href="data-visualization.html#cb315-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">color =</span> <span class="fu">as.factor</span>(year) ) )<span class="sc">+</span></span>
<span id="cb315-6"><a href="data-visualization.html#cb315-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb315-7"><a href="data-visualization.html#cb315-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">width=</span><span class="fl">0.1</span>)<span class="sc">+</span></span>
<span id="cb315-8"><a href="data-visualization.html#cb315-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&#39;Year&#39;</span>,</span>
<span id="cb315-9"><a href="data-visualization.html#cb315-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;City mpg&quot;</span>) <span class="sc">+</span></span>
<span id="cb315-10"><a href="data-visualization.html#cb315-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">my_theme</span>()<span class="sc">+</span> <span class="fu">facet_wrap</span>( <span class="sc">~</span> manufacturer,<span class="at">nrow =</span> <span class="dv">2</span>)  </span>
<span id="cb315-11"><a href="data-visualization.html#cb315-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb315-12"><a href="data-visualization.html#cb315-12" aria-hidden="true" tabindex="-1"></a><span class="co"># add statistical test</span></span>
<span id="cb315-13"><a href="data-visualization.html#cb315-13" aria-hidden="true" tabindex="-1"></a>  my_comparisons <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="fu">c</span>(<span class="st">&#39;1999&#39;</span>,<span class="st">&#39;2008&#39;</span>))</span>
<span id="cb315-14"><a href="data-visualization.html#cb315-14" aria-hidden="true" tabindex="-1"></a>plt <span class="sc">+</span> <span class="fu">stat_compare_means</span>() <span class="sc">+</span></span>
<span id="cb315-15"><a href="data-visualization.html#cb315-15" aria-hidden="true" tabindex="-1"></a><span class="fu">stat_compare_means</span>(<span class="at">comparisons =</span> my_comparisons)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-148-1.png" width="672" /></p>
</div>
<div id="add-texts-to-dots" class="section level3 hasAnchor" number="4.1.4">
<h3><span class="header-section-number">4.1.4</span> Add texts to dots<a href="data-visualization.html#add-texts-to-dots" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb316"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb316-1"><a href="data-visualization.html#cb316-1" aria-hidden="true" tabindex="-1"></a>USArrests <span class="ot">&lt;-</span> USArrests <span class="sc">%&gt;%</span> <span class="fu">rownames_to_column</span>(<span class="st">&#39;State&#39;</span>)</span>
<span id="cb316-2"><a href="data-visualization.html#cb316-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb316-3"><a href="data-visualization.html#cb316-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(USArrests, <span class="fu">aes</span>(</span>
<span id="cb316-4"><a href="data-visualization.html#cb316-4" aria-hidden="true" tabindex="-1"></a><span class="at">x=</span>UrbanPop,<span class="at">y=</span>Murder))<span class="sc">+</span></span>
<span id="cb316-5"><a href="data-visualization.html#cb316-5" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb316-6"><a href="data-visualization.html#cb316-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Percent of population that is urban&quot;</span>, </span>
<span id="cb316-7"><a href="data-visualization.html#cb316-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Murder arrests (per 100,000)&quot;</span>,</span>
<span id="cb316-8"><a href="data-visualization.html#cb316-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span>  <span class="st">&quot;McNeil (1997). Interactive Data Analysis&quot;</span>)<span class="sc">+</span></span>
<span id="cb316-9"><a href="data-visualization.html#cb316-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label=</span>State),<span class="at">size=</span><span class="dv">3</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-149-1.png" width="672" /></p>
</div>
<div id="set-the-legend" class="section level3 hasAnchor" number="4.1.5">
<h3><span class="header-section-number">4.1.5</span> Set the legend<a href="data-visualization.html#set-the-legend" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb317"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb317-1"><a href="data-visualization.html#cb317-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(<span class="at">x=</span>  Sepal.Length , <span class="at">fill=</span> <span class="fu">as.factor</span>( Species)) ) <span class="sc">+</span>  <span class="co">#whole plot&#39;s option</span></span>
<span id="cb317-2"><a href="data-visualization.html#cb317-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb317-3"><a href="data-visualization.html#cb317-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y=</span>..density..),<span class="at">alpha=</span><span class="fl">0.5</span>, <span class="at">position=</span><span class="st">&quot;identity&quot;</span> , <span class="at">bins =</span> <span class="dv">50</span>)<span class="sc">+</span></span>
<span id="cb317-4"><a href="data-visualization.html#cb317-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="fu">aes</span>(<span class="at">linetype=</span><span class="fu">as.factor</span>(Species)),<span class="at">alpha=</span>.<span class="dv">1</span> )<span class="sc">+</span>    <span class="co">#aesthetic&#39;s option</span></span>
<span id="cb317-5"><a href="data-visualization.html#cb317-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb317-6"><a href="data-visualization.html#cb317-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>( <span class="at">name =</span> <span class="st">&quot;Groups&quot;</span>,<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;grey&quot;</span>, <span class="st">&quot;black&quot;</span>, <span class="st">&quot;skyblue&quot;</span>),<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;setosa&quot;</span>, <span class="st">&quot;versicolor&quot;</span> , <span class="st">&quot;virginica&quot;</span> ))<span class="sc">+</span>  </span>
<span id="cb317-7"><a href="data-visualization.html#cb317-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_linetype_manual</span>( <span class="at">name =</span> <span class="st">&quot;Groups&quot;</span> ,<span class="at">values =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>),<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;setosa&quot;</span>, <span class="st">&quot;versicolor&quot;</span> , <span class="st">&quot;virginica&quot;</span>) )<span class="sc">+</span>       <span class="co"># common legend </span></span>
<span id="cb317-8"><a href="data-visualization.html#cb317-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb317-9"><a href="data-visualization.html#cb317-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Sepal.Length&quot;</span>, </span>
<span id="cb317-10"><a href="data-visualization.html#cb317-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Density&quot;</span>, </span>
<span id="cb317-11"><a href="data-visualization.html#cb317-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">&quot;&quot;</span>) </span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-150-1.png" width="672" /></p>
</div>
<div id="create-a-panel-of-plots" class="section level3 hasAnchor" number="4.1.6">
<h3><span class="header-section-number">4.1.6</span> Create a panel of plots<a href="data-visualization.html#create-a-panel-of-plots" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>combine multiple plots into one</li>
</ul>
<div class="sourceCode" id="cb318"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb318-1"><a href="data-visualization.html#cb318-1" aria-hidden="true" tabindex="-1"></a>p1<span class="ot">=</span><span class="fu">ggplot</span>(<span class="at">data=</span>riskfactors,<span class="fu">aes</span>(<span class="at">x=</span>age))<span class="sc">+</span></span>
<span id="cb318-2"><a href="data-visualization.html#cb318-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">30</span> )</span>
<span id="cb318-3"><a href="data-visualization.html#cb318-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb318-4"><a href="data-visualization.html#cb318-4" aria-hidden="true" tabindex="-1"></a>p2<span class="ot">=</span><span class="fu">ggplot</span>(<span class="at">data=</span>riskfactors,<span class="fu">aes</span>(<span class="at">x=</span>sex))<span class="sc">+</span></span>
<span id="cb318-5"><a href="data-visualization.html#cb318-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span> (<span class="fu">aes</span>(<span class="at">x=</span>sex) )</span>
<span id="cb318-6"><a href="data-visualization.html#cb318-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb318-7"><a href="data-visualization.html#cb318-7" aria-hidden="true" tabindex="-1"></a>p3<span class="ot">=</span><span class="fu">ggplot</span>(riskfactors,<span class="fu">aes</span>(<span class="at">x =</span> education, <span class="at">y =</span> bmi))<span class="sc">+</span></span>
<span id="cb318-8"><a href="data-visualization.html#cb318-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span> (  )</span>
<span id="cb318-9"><a href="data-visualization.html#cb318-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb318-10"><a href="data-visualization.html#cb318-10" aria-hidden="true" tabindex="-1"></a>p4<span class="ot">=</span><span class="fu">ggplot</span>(riskfactors, <span class="fu">aes</span>(<span class="at">x =</span> marital )) <span class="sc">+</span> </span>
<span id="cb318-11"><a href="data-visualization.html#cb318-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">group =</span> education, <span class="at">y =</span> (..count..)<span class="sc">/</span><span class="fu">sum</span>(..count..),<span class="at">fill =</span> education)) <span class="sc">+</span> </span>
<span id="cb318-12"><a href="data-visualization.html#cb318-12" aria-hidden="true" tabindex="-1"></a>          <span class="fu">scale_y_continuous</span>(<span class="at">labels=</span>scales<span class="sc">::</span>percent) </span>
<span id="cb318-13"><a href="data-visualization.html#cb318-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb318-14"><a href="data-visualization.html#cb318-14" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages(&quot;ggpubr&quot;)</span></span>
<span id="cb318-15"><a href="data-visualization.html#cb318-15" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggpubr)</span>
<span id="cb318-16"><a href="data-visualization.html#cb318-16" aria-hidden="true" tabindex="-1"></a><span class="fu">ggarrange</span>(p1, p2, p3, p4, <span class="at">ncol =</span> <span class="dv">2</span>, <span class="at">nrow=</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-151-1.png" width="672" /></p>
</div>
<div id="plots-in-regression" class="section level3 hasAnchor" number="4.1.7">
<h3><span class="header-section-number">4.1.7</span> Plots in regression<a href="data-visualization.html#plots-in-regression" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>create linear regression model</li>
</ul>
<div class="sourceCode" id="cb319"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb319-1"><a href="data-visualization.html#cb319-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;Boston&quot;</span>, <span class="at">package =</span> <span class="st">&quot;MASS&quot;</span>)</span>
<span id="cb319-2"><a href="data-visualization.html#cb319-2" aria-hidden="true" tabindex="-1"></a>linear_reg <span class="ot">&lt;-</span> <span class="fu">glm</span>(medv <span class="sc">~</span> ., <span class="at">data=</span>Boston , <span class="at">family =</span> <span class="fu">gaussian</span>())</span>
<span id="cb319-3"><a href="data-visualization.html#cb319-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(linear_reg)</span></code></pre></div>
<pre><code>## 
## Call:
## glm(formula = medv ~ ., family = gaussian(), data = Boston)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -15.595   -2.730   -0.518    1.777   26.199  
## 
## Coefficients:
##               Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  3.646e+01  5.103e+00   7.144 3.28e-12 ***
## crim        -1.080e-01  3.286e-02  -3.287 0.001087 ** 
## zn           4.642e-02  1.373e-02   3.382 0.000778 ***
## indus        2.056e-02  6.150e-02   0.334 0.738288    
## chas         2.687e+00  8.616e-01   3.118 0.001925 ** 
## nox         -1.777e+01  3.820e+00  -4.651 4.25e-06 ***
## rm           3.810e+00  4.179e-01   9.116  &lt; 2e-16 ***
## age          6.922e-04  1.321e-02   0.052 0.958229    
## dis         -1.476e+00  1.995e-01  -7.398 6.01e-13 ***
## rad          3.060e-01  6.635e-02   4.613 5.07e-06 ***
## tax         -1.233e-02  3.760e-03  -3.280 0.001112 ** 
## ptratio     -9.527e-01  1.308e-01  -7.283 1.31e-12 ***
## black        9.312e-03  2.686e-03   3.467 0.000573 ***
## lstat       -5.248e-01  5.072e-02 -10.347  &lt; 2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## (Dispersion parameter for gaussian family taken to be 22.51785)
## 
##     Null deviance: 42716  on 505  degrees of freedom
## Residual deviance: 11079  on 492  degrees of freedom
## AIC: 3027.6
## 
## Number of Fisher Scoring iterations: 2</code></pre>
<ul>
<li>summary</li>
</ul>
<div class="sourceCode" id="cb321"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb321-1"><a href="data-visualization.html#cb321-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(broom<span class="sc">::</span><span class="fu">tidy</span>(linear_reg))</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">term</th>
<th align="right">estimate</th>
<th align="right">std.error</th>
<th align="right">statistic</th>
<th align="right">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">(Intercept)</td>
<td align="right">36.4594884</td>
<td align="right">5.1034588</td>
<td align="right">7.1440742</td>
<td align="right">0.0000000</td>
</tr>
<tr class="even">
<td align="left">crim</td>
<td align="right">-0.1080114</td>
<td align="right">0.0328650</td>
<td align="right">-3.2865169</td>
<td align="right">0.0010868</td>
</tr>
<tr class="odd">
<td align="left">zn</td>
<td align="right">0.0464205</td>
<td align="right">0.0137275</td>
<td align="right">3.3815763</td>
<td align="right">0.0007781</td>
</tr>
<tr class="even">
<td align="left">indus</td>
<td align="right">0.0205586</td>
<td align="right">0.0614957</td>
<td align="right">0.3343100</td>
<td align="right">0.7382881</td>
</tr>
<tr class="odd">
<td align="left">chas</td>
<td align="right">2.6867338</td>
<td align="right">0.8615798</td>
<td align="right">3.1183809</td>
<td align="right">0.0019250</td>
</tr>
<tr class="even">
<td align="left">nox</td>
<td align="right">-17.7666112</td>
<td align="right">3.8197437</td>
<td align="right">-4.6512574</td>
<td align="right">0.0000042</td>
</tr>
<tr class="odd">
<td align="left">rm</td>
<td align="right">3.8098652</td>
<td align="right">0.4179253</td>
<td align="right">9.1161402</td>
<td align="right">0.0000000</td>
</tr>
<tr class="even">
<td align="left">age</td>
<td align="right">0.0006922</td>
<td align="right">0.0132098</td>
<td align="right">0.0524024</td>
<td align="right">0.9582293</td>
</tr>
<tr class="odd">
<td align="left">dis</td>
<td align="right">-1.4755668</td>
<td align="right">0.1994547</td>
<td align="right">-7.3980036</td>
<td align="right">0.0000000</td>
</tr>
<tr class="even">
<td align="left">rad</td>
<td align="right">0.3060495</td>
<td align="right">0.0663464</td>
<td align="right">4.6128998</td>
<td align="right">0.0000051</td>
</tr>
<tr class="odd">
<td align="left">tax</td>
<td align="right">-0.0123346</td>
<td align="right">0.0037605</td>
<td align="right">-3.2800091</td>
<td align="right">0.0011116</td>
</tr>
<tr class="even">
<td align="left">ptratio</td>
<td align="right">-0.9527472</td>
<td align="right">0.1308268</td>
<td align="right">-7.2825106</td>
<td align="right">0.0000000</td>
</tr>
<tr class="odd">
<td align="left">black</td>
<td align="right">0.0093117</td>
<td align="right">0.0026860</td>
<td align="right">3.4667926</td>
<td align="right">0.0005729</td>
</tr>
<tr class="even">
<td align="left">lstat</td>
<td align="right">-0.5247584</td>
<td align="right">0.0507153</td>
<td align="right">-10.3471458</td>
<td align="right">0.0000000</td>
</tr>
</tbody>
</table>
<ul>
<li>create logistical regression</li>
</ul>
<div class="sourceCode" id="cb322"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb322-1"><a href="data-visualization.html#cb322-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load the Pima Indians dataset from the mlbench dataset</span></span>
<span id="cb322-2"><a href="data-visualization.html#cb322-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mlbench)</span>
<span id="cb322-3"><a href="data-visualization.html#cb322-3" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(PimaIndiansDiabetes) </span>
<span id="cb322-4"><a href="data-visualization.html#cb322-4" aria-hidden="true" tabindex="-1"></a><span class="co"># rename dataset to have shorter name because lazy</span></span>
<span id="cb322-5"><a href="data-visualization.html#cb322-5" aria-hidden="true" tabindex="-1"></a>diabetes <span class="ot">&lt;-</span> PimaIndiansDiabetes</span>
<span id="cb322-6"><a href="data-visualization.html#cb322-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb322-7"><a href="data-visualization.html#cb322-7" aria-hidden="true" tabindex="-1"></a>logistic_reg <span class="ot">&lt;-</span> <span class="fu">glm</span>(diabetes <span class="sc">~</span> ., <span class="at">data=</span>diabetes, <span class="at">family =</span> binomial)</span>
<span id="cb322-8"><a href="data-visualization.html#cb322-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb322-9"><a href="data-visualization.html#cb322-9" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(logistic_reg)</span></code></pre></div>
<pre><code>## 
## Call:
## glm(formula = diabetes ~ ., family = binomial, data = diabetes)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -2.5566  -0.7274  -0.4159   0.7267   2.9297  
## 
## Coefficients:
##               Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept) -8.4046964  0.7166359 -11.728  &lt; 2e-16 ***
## pregnant     0.1231823  0.0320776   3.840 0.000123 ***
## glucose      0.0351637  0.0037087   9.481  &lt; 2e-16 ***
## pressure    -0.0132955  0.0052336  -2.540 0.011072 *  
## triceps      0.0006190  0.0068994   0.090 0.928515    
## insulin     -0.0011917  0.0009012  -1.322 0.186065    
## mass         0.0897010  0.0150876   5.945 2.76e-09 ***
## pedigree     0.9451797  0.2991475   3.160 0.001580 ** 
## age          0.0148690  0.0093348   1.593 0.111192    
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 993.48  on 767  degrees of freedom
## Residual deviance: 723.45  on 759  degrees of freedom
## AIC: 741.45
## 
## Number of Fisher Scoring iterations: 5</code></pre>
<ul>
<li>summary</li>
</ul>
<div class="sourceCode" id="cb324"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb324-1"><a href="data-visualization.html#cb324-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(broom<span class="sc">::</span><span class="fu">tidy</span>(logistic_reg))</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">term</th>
<th align="right">estimate</th>
<th align="right">std.error</th>
<th align="right">statistic</th>
<th align="right">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">(Intercept)</td>
<td align="right">-8.4046964</td>
<td align="right">0.7166359</td>
<td align="right">-11.7279870</td>
<td align="right">0.0000000</td>
</tr>
<tr class="even">
<td align="left">pregnant</td>
<td align="right">0.1231823</td>
<td align="right">0.0320776</td>
<td align="right">3.8401403</td>
<td align="right">0.0001230</td>
</tr>
<tr class="odd">
<td align="left">glucose</td>
<td align="right">0.0351637</td>
<td align="right">0.0037087</td>
<td align="right">9.4813935</td>
<td align="right">0.0000000</td>
</tr>
<tr class="even">
<td align="left">pressure</td>
<td align="right">-0.0132955</td>
<td align="right">0.0052336</td>
<td align="right">-2.5404160</td>
<td align="right">0.0110721</td>
</tr>
<tr class="odd">
<td align="left">triceps</td>
<td align="right">0.0006190</td>
<td align="right">0.0068994</td>
<td align="right">0.0897131</td>
<td align="right">0.9285152</td>
</tr>
<tr class="even">
<td align="left">insulin</td>
<td align="right">-0.0011917</td>
<td align="right">0.0009012</td>
<td align="right">-1.3223094</td>
<td align="right">0.1860652</td>
</tr>
<tr class="odd">
<td align="left">mass</td>
<td align="right">0.0897010</td>
<td align="right">0.0150876</td>
<td align="right">5.9453340</td>
<td align="right">0.0000000</td>
</tr>
<tr class="even">
<td align="left">pedigree</td>
<td align="right">0.9451797</td>
<td align="right">0.2991475</td>
<td align="right">3.1595780</td>
<td align="right">0.0015800</td>
</tr>
<tr class="odd">
<td align="left">age</td>
<td align="right">0.0148690</td>
<td align="right">0.0093348</td>
<td align="right">1.5928584</td>
<td align="right">0.1111920</td>
</tr>
</tbody>
</table>
<div id="create-forest-plots-for-coefficients-or-or" class="section level4 hasAnchor" number="4.1.7.1">
<h4><span class="header-section-number">4.1.7.1</span> Create forest plots for <code>coefficients</code> or <code>OR</code><a href="data-visualization.html#create-forest-plots-for-coefficients-or-or" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb325"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb325-1"><a href="data-visualization.html#cb325-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sjPlot)</span></code></pre></div>
<pre><code>## Registered S3 methods overwritten by &#39;effectsize&#39;:
##   method              from      
##   standardize.Surv    datawizard
##   standardize.bcplm   datawizard
##   standardize.clm2    datawizard
##   standardize.default datawizard
##   standardize.mediate datawizard
##   standardize.wbgee   datawizard
##   standardize.wbm     datawizard</code></pre>
<pre><code>## #refugeeswelcome</code></pre>
<div class="sourceCode" id="cb328"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb328-1"><a href="data-visualization.html#cb328-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_model</span>(linear_reg, <span class="at">show.values =</span> <span class="cn">TRUE</span>, <span class="at">value.offset =</span> <span class="fl">0.5</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-156-1.png" width="672" /></p>
<div class="sourceCode" id="cb329"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb329-1"><a href="data-visualization.html#cb329-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_model</span>(logistic_reg, <span class="at">show.values =</span> <span class="cn">TRUE</span>, <span class="at">value.offset =</span> .<span class="dv">5</span>, <span class="at">vline.color =</span> <span class="st">&quot;black&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-157-1.png" width="672" />
<strong>another way</strong></p>
<div class="sourceCode" id="cb330"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb330-1"><a href="data-visualization.html#cb330-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(finalfit) </span>
<span id="cb330-2"><a href="data-visualization.html#cb330-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb330-3"><a href="data-visualization.html#cb330-3" aria-hidden="true" tabindex="-1"></a>explanatory <span class="ot">=</span> <span class="fu">c</span>(  <span class="st">&quot;crim&quot;</span>  ,  <span class="st">&quot;zn&quot;</span>   ,   <span class="st">&quot;indus&quot;</span>  ,   <span class="st">&quot;nox&quot;</span>   ,  <span class="st">&quot;rm&quot;</span>   ,   <span class="st">&quot;age&quot;</span> ,    <span class="st">&quot;dis&quot;</span>  ,   <span class="st">&quot;rad&quot;</span>   ,  <span class="st">&quot;tax&quot;</span>   ,<span class="st">&quot;ptratio&quot;</span> ,<span class="st">&quot;black&quot;</span>  , <span class="st">&quot;lstat&quot;</span> )</span>
<span id="cb330-4"><a href="data-visualization.html#cb330-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb330-5"><a href="data-visualization.html#cb330-5" aria-hidden="true" tabindex="-1"></a>dependent <span class="ot">=</span> <span class="st">&quot;medv&quot;</span></span>
<span id="cb330-6"><a href="data-visualization.html#cb330-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb330-7"><a href="data-visualization.html#cb330-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb330-8"><a href="data-visualization.html#cb330-8" aria-hidden="true" tabindex="-1"></a>Boston <span class="sc">%&gt;%</span></span>
<span id="cb330-9"><a href="data-visualization.html#cb330-9" aria-hidden="true" tabindex="-1"></a> <span class="fu">coefficient_plot</span>(dependent, explanatory, <span class="at">table_text_size=</span><span class="dv">3</span>, </span>
<span id="cb330-10"><a href="data-visualization.html#cb330-10" aria-hidden="true" tabindex="-1"></a>                  <span class="at">title_text_size=</span><span class="dv">12</span>,</span>
<span id="cb330-11"><a href="data-visualization.html#cb330-11" aria-hidden="true" tabindex="-1"></a>                   <span class="at">plot_opts=</span><span class="fu">list</span>(<span class="fu">xlab</span>(<span class="st">&quot;Beta, 95% CI&quot;</span>), </span>
<span id="cb330-12"><a href="data-visualization.html#cb330-12" aria-hidden="true" tabindex="-1"></a>                                  <span class="fu">theme</span>(<span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">12</span>))))</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-158-1.png" width="672" /></p>
<div class="sourceCode" id="cb331"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb331-1"><a href="data-visualization.html#cb331-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(finalfit) </span>
<span id="cb331-2"><a href="data-visualization.html#cb331-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb331-3"><a href="data-visualization.html#cb331-3" aria-hidden="true" tabindex="-1"></a>explanatory <span class="ot">=</span> <span class="fu">c</span>(  <span class="st">&quot;pregnant&quot;</span>, <span class="st">&quot;glucose&quot;</span> , <span class="st">&quot;pressure&quot;</span>, <span class="st">&quot;triceps&quot;</span>  ,<span class="st">&quot;insulin&quot;</span> , <span class="st">&quot;mass&quot;</span>   ,  <span class="st">&quot;pedigree&quot;</span>, <span class="st">&quot;age&quot;</span>  )</span>
<span id="cb331-4"><a href="data-visualization.html#cb331-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb331-5"><a href="data-visualization.html#cb331-5" aria-hidden="true" tabindex="-1"></a>dependent <span class="ot">=</span> <span class="st">&quot;diabetes&quot;</span></span>
<span id="cb331-6"><a href="data-visualization.html#cb331-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb331-7"><a href="data-visualization.html#cb331-7" aria-hidden="true" tabindex="-1"></a>diabetes <span class="sc">%&gt;%</span></span>
<span id="cb331-8"><a href="data-visualization.html#cb331-8" aria-hidden="true" tabindex="-1"></a> <span class="fu">or_plot</span>(dependent, explanatory, <span class="at">table_text_size=</span><span class="dv">3</span>, </span>
<span id="cb331-9"><a href="data-visualization.html#cb331-9" aria-hidden="true" tabindex="-1"></a>                  <span class="at">title_text_size=</span><span class="dv">12</span>,</span>
<span id="cb331-10"><a href="data-visualization.html#cb331-10" aria-hidden="true" tabindex="-1"></a>                   <span class="at">plot_opts=</span><span class="fu">list</span>(<span class="fu">xlab</span>(<span class="st">&quot;OR, 95% CI&quot;</span>), </span>
<span id="cb331-11"><a href="data-visualization.html#cb331-11" aria-hidden="true" tabindex="-1"></a>                                  <span class="fu">theme</span>(<span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">12</span>))))</span></code></pre></div>
<pre><code>## Waiting for profiling to be done...
## Waiting for profiling to be done...
## Waiting for profiling to be done...</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-159-1.png" width="672" /></p>
<ul>
<li>qq plot</li>
</ul>
<div class="sourceCode" id="cb333"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb333-1"><a href="data-visualization.html#cb333-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggqqplot</span>( (Boston<span class="sc">$</span>medv))</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-160-1.png" width="672" /></p>
<!-- ======================== -->
<ul>
<li>Loading data set</li>
</ul>
<div class="sourceCode" id="cb334"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb334-1"><a href="data-visualization.html#cb334-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(printr)</span></code></pre></div>
<pre><code>## Registered S3 method overwritten by &#39;printr&#39;:
##   method                from     
##   knit_print.data.frame rmarkdown</code></pre>
<div class="sourceCode" id="cb336"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb336-1"><a href="data-visualization.html#cb336-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb336-2"><a href="data-visualization.html#cb336-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(iris)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">Sepal.Length</th>
<th align="right">Sepal.Width</th>
<th align="right">Petal.Length</th>
<th align="right">Petal.Width</th>
<th align="left">Species</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">5.1</td>
<td align="right">3.5</td>
<td align="right">1.4</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="even">
<td align="right">4.9</td>
<td align="right">3.0</td>
<td align="right">1.4</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="odd">
<td align="right">4.7</td>
<td align="right">3.2</td>
<td align="right">1.3</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="even">
<td align="right">4.6</td>
<td align="right">3.1</td>
<td align="right">1.5</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="odd">
<td align="right">5.0</td>
<td align="right">3.6</td>
<td align="right">1.4</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="even">
<td align="right">5.4</td>
<td align="right">3.9</td>
<td align="right">1.7</td>
<td align="right">0.4</td>
<td align="left">setosa</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="scatter-plot" class="section level2 hasAnchor" number="4.2">
<h2><span class="header-section-number">4.2</span> Scatter plot<a href="data-visualization.html#scatter-plot" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="create-a-empty-canvas" class="section level3 hasAnchor" number="4.2.1">
<h3><span class="header-section-number">4.2.1</span> Create a empty canvas<a href="data-visualization.html#create-a-empty-canvas" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>then create <code>aesthetic mapping</code><br />
</li>
<li>tell the function which dataset and variables to use</li>
</ul>
<div class="sourceCode" id="cb337"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb337-1"><a href="data-visualization.html#cb337-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> iris,        <span class="co"># which data set? canvas? </span></span>
<span id="cb337-2"><a href="data-visualization.html#cb337-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x=</span>Sepal.Length , <span class="at">y=</span>Petal.Length   ))  <span class="co"># which variables as aesthetics? x and y are mapped to columns of the data; different geoms can have different aesthetics (different variables). </span></span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-162-1.png" width="672" /></p>
</div>
<div id="add-a-layergeom-of-points-to-the-canvas" class="section level3 hasAnchor" number="4.2.2">
<h3><span class="header-section-number">4.2.2</span> Add a layer/geom of <code>points</code> to the canvas<a href="data-visualization.html#add-a-layergeom-of-points-to-the-canvas" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb338"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb338-1"><a href="data-visualization.html#cb338-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> iris,</span>
<span id="cb338-2"><a href="data-visualization.html#cb338-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span>Sepal.Length , <span class="at">y=</span>Petal.Length  )) <span class="sc">+</span> </span>
<span id="cb338-3"><a href="data-visualization.html#cb338-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()   <span class="co"># adding the geometrical representation </span></span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-163-1.png" width="672" /></p>
<div class="sourceCode" id="cb339"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb339-1"><a href="data-visualization.html#cb339-1" aria-hidden="true" tabindex="-1"></a><span class="co"># same plot as above</span></span>
<span id="cb339-2"><a href="data-visualization.html#cb339-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> iris) <span class="sc">+</span> </span>
<span id="cb339-3"><a href="data-visualization.html#cb339-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(  <span class="fu">aes</span>(<span class="at">x=</span>Sepal.Length , <span class="at">y=</span>Petal.Length  )) </span></code></pre></div>
</div>
<div id="add-another-aesthetic" class="section level3 hasAnchor" number="4.2.3">
<h3><span class="header-section-number">4.2.3</span> Add another aesthetic<a href="data-visualization.html#add-another-aesthetic" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>add a curve/straight line to fit these points</li>
<li>geom provides the aesthetic to ggplot</li>
</ul>
<div class="sourceCode" id="cb340"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb340-1"><a href="data-visualization.html#cb340-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Loess curve</span></span>
<span id="cb340-2"><a href="data-visualization.html#cb340-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> iris, </span>
<span id="cb340-3"><a href="data-visualization.html#cb340-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span>Sepal.Length , <span class="at">y=</span>Petal.Length  )) <span class="sc">+</span> </span>
<span id="cb340-4"><a href="data-visualization.html#cb340-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb340-5"><a href="data-visualization.html#cb340-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() </span></code></pre></div>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-165-1.png" width="672" /></p>
<div class="sourceCode" id="cb342"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb342-1"><a href="data-visualization.html#cb342-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Linear regression line</span></span>
<span id="cb342-2"><a href="data-visualization.html#cb342-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> iris, </span>
<span id="cb342-3"><a href="data-visualization.html#cb342-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span>Sepal.Length , <span class="at">y=</span>Petal.Length)) <span class="sc">+</span> </span>
<span id="cb342-4"><a href="data-visualization.html#cb342-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb342-5"><a href="data-visualization.html#cb342-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-166-1.png" width="672" /></p>
</div>
<div id="add-other-aesthetic" class="section level3 hasAnchor" number="4.2.4">
<h3><span class="header-section-number">4.2.4</span> Add other aesthetic<a href="data-visualization.html#add-other-aesthetic" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>set other aesthetics <code>colour, alpha (transparency), and size of points</code></li>
</ul>
<div class="sourceCode" id="cb344"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb344-1"><a href="data-visualization.html#cb344-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> iris) <span class="sc">+</span> </span>
<span id="cb344-2"><a href="data-visualization.html#cb344-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x=</span>Sepal.Length , <span class="at">y=</span>Petal.Length, <span class="at">size =</span> Sepal.Width     ), </span>
<span id="cb344-3"><a href="data-visualization.html#cb344-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">alpha =</span> .<span class="dv">5</span>, </span>
<span id="cb344-4"><a href="data-visualization.html#cb344-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">colour =</span> <span class="st">&quot;red&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-167-1.png" width="672" /></p>
<div class="sourceCode" id="cb345"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb345-1"><a href="data-visualization.html#cb345-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> iris) <span class="sc">+</span> </span>
<span id="cb345-2"><a href="data-visualization.html#cb345-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x=</span>Sepal.Length , <span class="at">y=</span>Petal.Length, <span class="at">size =</span> Sepal.Width , <span class="at">colour=</span>Species), <span class="co">#white is a variable here </span></span>
<span id="cb345-3"><a href="data-visualization.html#cb345-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">alpha=</span>.<span class="dv">9</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-168-1.png" width="672" /></p>
<ul>
<li>categorize <code>Petal.Width</code> then map colour to this new variable</li>
</ul>
<div class="sourceCode" id="cb346"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb346-1"><a href="data-visualization.html#cb346-1" aria-hidden="true" tabindex="-1"></a>iris <span class="ot">&lt;-</span> iris <span class="sc">%&gt;%</span> </span>
<span id="cb346-2"><a href="data-visualization.html#cb346-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">growth =</span> <span class="fu">ifelse</span>(Petal.Width   <span class="sc">&gt;</span> <span class="fl">1.5</span>, <span class="st">&quot;Wide&quot;</span>, <span class="st">&quot;Normal&quot;</span>))</span>
<span id="cb346-3"><a href="data-visualization.html#cb346-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb346-4"><a href="data-visualization.html#cb346-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>iris) <span class="sc">+</span> </span>
<span id="cb346-5"><a href="data-visualization.html#cb346-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x=</span>Sepal.Length , <span class="at">y=</span>Petal.Length, <span class="at">size =</span> Sepal.Width , <span class="at">colour=</span>growth), </span>
<span id="cb346-6"><a href="data-visualization.html#cb346-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">alpha=</span>.<span class="dv">9</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-169-1.png" width="672" /></p>
</div>
</div>
<div id="bar-chart" class="section level2 hasAnchor" number="4.3">
<h2><span class="header-section-number">4.3</span> Bar chart<a href="data-visualization.html#bar-chart" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb347"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb347-1"><a href="data-visualization.html#cb347-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> iris) <span class="sc">+</span> </span>
<span id="cb347-2"><a href="data-visualization.html#cb347-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> growth))</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-170-1.png" width="672" /></p>
<ul>
<li>bar chart after <code>group_by</code></li>
<li>then use <code>stat='identity'</code></li>
</ul>
<div class="sourceCode" id="cb348"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb348-1"><a href="data-visualization.html#cb348-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb348-2"><a href="data-visualization.html#cb348-2" aria-hidden="true" tabindex="-1"></a>results  <span class="ot">&lt;-</span> iris <span class="sc">%&gt;%</span> </span>
<span id="cb348-3"><a href="data-visualization.html#cb348-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Species, growth) <span class="sc">%&gt;%</span> </span>
<span id="cb348-4"><a href="data-visualization.html#cb348-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">summarise</span>(<span class="at">Sepal.Length.mean=</span><span class="fu">mean</span> (Sepal.Length ))</span></code></pre></div>
<pre><code>## `summarise()` has grouped output by &#39;Species&#39;. You can override using the
## `.groups` argument.</code></pre>
<div class="sourceCode" id="cb350"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb350-1"><a href="data-visualization.html#cb350-1" aria-hidden="true" tabindex="-1"></a> gop <span class="ot">&lt;-</span> results  <span class="sc">%&gt;%</span> </span>
<span id="cb350-2"><a href="data-visualization.html#cb350-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Species <span class="sc">!=</span> <span class="st">&quot;setosa_null&quot;</span>  )</span>
<span id="cb350-3"><a href="data-visualization.html#cb350-3" aria-hidden="true" tabindex="-1"></a> gop</span></code></pre></div>
<pre><code>## # A tibble: 5 × 3
## # Groups:   Species [3]
##   Species    growth Sepal.Length.mean
##   &lt;fct&gt;      &lt;chr&gt;              &lt;dbl&gt;
## 1 setosa     Normal              5.01
## 2 versicolor Normal              5.91
## 3 versicolor Wide                6.18
## 4 virginica  Normal              6.13
## 5 virginica  Wide                6.62</code></pre>
<ul>
<li>though meaningless below until line chart (just use the mean as the sum for demonstration)</li>
</ul>
<div class="sourceCode" id="cb352"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb352-1"><a href="data-visualization.html#cb352-1" aria-hidden="true" tabindex="-1"></a><span class="co"># We can also store parts of a plot in an object</span></span>
<span id="cb352-2"><a href="data-visualization.html#cb352-2" aria-hidden="true" tabindex="-1"></a>plot1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(gop) <span class="sc">+</span> </span>
<span id="cb352-3"><a href="data-visualization.html#cb352-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x=</span>growth , <span class="at">y=</span>Sepal.Length.mean), </span>
<span id="cb352-4"><a href="data-visualization.html#cb352-4" aria-hidden="true" tabindex="-1"></a>           </span>
<span id="cb352-5"><a href="data-visualization.html#cb352-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">stat=</span><span class="st">&#39;identity&#39;</span>)</span>
<span id="cb352-6"><a href="data-visualization.html#cb352-6" aria-hidden="true" tabindex="-1"></a>plot1</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-172-1.png" width="672" />
### Add some options for the whole ggplot rather than layers
- <code>switch</code> the x and y axes</p>
<div class="sourceCode" id="cb353"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb353-1"><a href="data-visualization.html#cb353-1" aria-hidden="true" tabindex="-1"></a>plot1 <span class="sc">+</span> </span>
<span id="cb353-2"><a href="data-visualization.html#cb353-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-173-1.png" width="672" /></p>
<ul>
<li><code>reorder</code> x categories (<code>-</code>means descending)</li>
</ul>
<div class="sourceCode" id="cb354"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb354-1"><a href="data-visualization.html#cb354-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>( gop) <span class="sc">+</span> </span>
<span id="cb354-2"><a href="data-visualization.html#cb354-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x=</span><span class="fu">reorder</span>(growth, <span class="sc">-</span>Sepal.Length.mean), <span class="at">y=</span>Sepal.Length.mean, <span class="at">fill=</span>growth), </span>
<span id="cb354-3"><a href="data-visualization.html#cb354-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">stat=</span><span class="st">&#39;identity&#39;</span>) <span class="sc">+</span> </span>
<span id="cb354-4"><a href="data-visualization.html#cb354-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-174-1.png" width="672" /></p>
<ul>
<li>add x axis <code>label</code> and a <code>theme</code></li>
</ul>
<div class="sourceCode" id="cb355"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb355-1"><a href="data-visualization.html#cb355-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(gop) <span class="sc">+</span> </span>
<span id="cb355-2"><a href="data-visualization.html#cb355-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x=</span><span class="fu">reorder</span>(growth, <span class="sc">-</span>Sepal.Length.mean), <span class="at">y=</span>Sepal.Length.mean, <span class="at">fill=</span>growth), </span>
<span id="cb355-3"><a href="data-visualization.html#cb355-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">stat=</span><span class="st">&#39;identity&#39;</span>) <span class="sc">+</span> </span>
<span id="cb355-4"><a href="data-visualization.html#cb355-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span> </span>
<span id="cb355-5"><a href="data-visualization.html#cb355-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Growth categories&quot;</span>) <span class="sc">+</span> </span>
<span id="cb355-6"><a href="data-visualization.html#cb355-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill=</span>F) <span class="sc">+</span></span>
<span id="cb355-7"><a href="data-visualization.html#cb355-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-175-1.png" width="672" /></p>
<ul>
<li>set theme</li>
</ul>
<div class="sourceCode" id="cb356"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb356-1"><a href="data-visualization.html#cb356-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggthemes)</span>
<span id="cb356-2"><a href="data-visualization.html#cb356-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> iris) <span class="sc">+</span> </span>
<span id="cb356-3"><a href="data-visualization.html#cb356-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> growth)) <span class="sc">+</span> </span>
<span id="cb356-4"><a href="data-visualization.html#cb356-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_economist</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-176-1.png" width="672" /></p>
<div id="grouped-bar-chart" class="section level3 hasAnchor" number="4.3.1">
<h3><span class="header-section-number">4.3.1</span> Grouped bar chart<a href="data-visualization.html#grouped-bar-chart" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>-bar chart with different panels</p>
<div class="sourceCode" id="cb357"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb357-1"><a href="data-visualization.html#cb357-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(<span class="at">x =</span> class)) <span class="sc">+</span> </span>
<span id="cb357-2"><a href="data-visualization.html#cb357-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span> </span>
<span id="cb357-3"><a href="data-visualization.html#cb357-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>( <span class="sc">~</span> year)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-177-1.png" width="672" /></p>
<ul>
<li>actual number (groups are stacked by default)</li>
</ul>
<div class="sourceCode" id="cb358"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb358-1"><a href="data-visualization.html#cb358-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(gop) <span class="sc">+</span> </span>
<span id="cb358-2"><a href="data-visualization.html#cb358-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x=</span>growth, <span class="at">y=</span>Sepal.Length.mean, <span class="at">fill=</span>Species)</span>
<span id="cb358-3"><a href="data-visualization.html#cb358-3" aria-hidden="true" tabindex="-1"></a>           , <span class="at">stat=</span><span class="st">&#39;identity&#39;</span></span>
<span id="cb358-4"><a href="data-visualization.html#cb358-4" aria-hidden="true" tabindex="-1"></a>           )</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-178-1.png" width="672" /></p>
<div class="sourceCode" id="cb359"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb359-1"><a href="data-visualization.html#cb359-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(<span class="at">x =</span> class )) <span class="sc">+</span> </span>
<span id="cb359-2"><a href="data-visualization.html#cb359-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">group =</span> year, <span class="at">fill =</span> year), <span class="at">position =</span> <span class="st">&quot;stack&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-179-1.png" width="672" /></p>
<ul>
<li>percentage</li>
</ul>
<div class="sourceCode" id="cb360"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb360-1"><a href="data-visualization.html#cb360-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(gop) <span class="sc">+</span> </span>
<span id="cb360-2"><a href="data-visualization.html#cb360-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x=</span>growth, <span class="at">y=</span>Sepal.Length.mean, <span class="at">fill=</span>Species), </span>
<span id="cb360-3"><a href="data-visualization.html#cb360-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">stat=</span><span class="st">&#39;identity&#39;</span>, </span>
<span id="cb360-4"><a href="data-visualization.html#cb360-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">position=</span><span class="st">&#39;fill&#39;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-180-1.png" width="672" /></p>
<ul>
<li>groups are dodge with <code>actual number</code></li>
</ul>
<div class="sourceCode" id="cb361"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb361-1"><a href="data-visualization.html#cb361-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(gop) <span class="sc">+</span> </span>
<span id="cb361-2"><a href="data-visualization.html#cb361-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x=</span>growth, <span class="at">y=</span>Sepal.Length.mean, <span class="at">fill=</span>Species), </span>
<span id="cb361-3"><a href="data-visualization.html#cb361-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">stat=</span><span class="st">&#39;identity&#39;</span>, </span>
<span id="cb361-4"><a href="data-visualization.html#cb361-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">position=</span><span class="st">&#39;dodge&#39;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-181-1.png" width="672" />
- groups are dodge with <code>percentage</code></p>
<div class="sourceCode" id="cb362"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb362-1"><a href="data-visualization.html#cb362-1" aria-hidden="true" tabindex="-1"></a>gop2 <span class="ot">&lt;-</span> gop <span class="sc">%&gt;%</span> </span>
<span id="cb362-2"><a href="data-visualization.html#cb362-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(growth ) <span class="sc">%&gt;%</span> </span>
<span id="cb362-3"><a href="data-visualization.html#cb362-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Sepal.Length.prop=</span>Sepal.Length.mean<span class="sc">/</span><span class="fu">sum</span>(Sepal.Length.mean))</span>
<span id="cb362-4"><a href="data-visualization.html#cb362-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb362-5"><a href="data-visualization.html#cb362-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(gop2) <span class="sc">+</span> </span>
<span id="cb362-6"><a href="data-visualization.html#cb362-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x=</span>growth, <span class="at">y=</span>Sepal.Length.prop, <span class="at">fill=</span>Species), </span>
<span id="cb362-7"><a href="data-visualization.html#cb362-7" aria-hidden="true" tabindex="-1"></a>           <span class="at">stat=</span><span class="st">&#39;identity&#39;</span>, </span>
<span id="cb362-8"><a href="data-visualization.html#cb362-8" aria-hidden="true" tabindex="-1"></a>           <span class="at">position=</span><span class="st">&#39;dodge&#39;</span>) <span class="sc">+</span> </span>
<span id="cb362-9"><a href="data-visualization.html#cb362-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Votes (%)&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-182-1.png" width="672" /></p>
</div>
</div>
<div id="line-charts" class="section level2 hasAnchor" number="4.4">
<h2><span class="header-section-number">4.4</span> Line charts<a href="data-visualization.html#line-charts" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb363"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb363-1"><a href="data-visualization.html#cb363-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(iris) <span class="sc">+</span> </span>
<span id="cb363-2"><a href="data-visualization.html#cb363-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x=</span>Sepal.Length , <span class="at">y=</span>Petal.Length))</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-183-1.png" width="672" /></p>
<div id="grouped-by-colour-variable" class="section level3 hasAnchor" number="4.4.1">
<h3><span class="header-section-number">4.4.1</span> Grouped by <code>colour variable</code><a href="data-visualization.html#grouped-by-colour-variable" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb364"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb364-1"><a href="data-visualization.html#cb364-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(iris) <span class="sc">+</span> </span>
<span id="cb364-2"><a href="data-visualization.html#cb364-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x=</span>Sepal.Length , <span class="at">y=</span>Petal.Length, <span class="at">colour =</span> Species))</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-184-1.png" width="672" /></p>
<ul>
<li>grouped by state then set how many rows or columns</li>
</ul>
<div class="sourceCode" id="cb365"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb365-1"><a href="data-visualization.html#cb365-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(iris) <span class="sc">+</span> </span>
<span id="cb365-2"><a href="data-visualization.html#cb365-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x=</span>Sepal.Length , <span class="at">y=</span>Petal.Length) ) <span class="sc">+</span> </span>
<span id="cb365-3"><a href="data-visualization.html#cb365-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb365-4"><a href="data-visualization.html#cb365-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>Species, <span class="at">nrow =</span> <span class="dv">1</span>) <span class="sc">+</span>      <span class="co">#set how many rows</span></span>
<span id="cb365-5"><a href="data-visualization.html#cb365-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()  </span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-185-1.png" width="672" /></p>
</div>
<div id="multiple-aesthetics" class="section level3 hasAnchor" number="4.4.2">
<h3><span class="header-section-number">4.4.2</span> Multiple aesthetics<a href="data-visualization.html#multiple-aesthetics" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb366"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb366-1"><a href="data-visualization.html#cb366-1" aria-hidden="true" tabindex="-1"></a>iris <span class="ot">&lt;-</span> iris <span class="sc">%&gt;%</span> </span>
<span id="cb366-2"><a href="data-visualization.html#cb366-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">growth =</span> <span class="fu">ifelse</span>(Petal.Width   <span class="sc">&gt;</span> <span class="fl">1.5</span>, <span class="st">&quot;Wide&quot;</span>, <span class="st">&quot;Normal&quot;</span>))</span>
<span id="cb366-3"><a href="data-visualization.html#cb366-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb366-4"><a href="data-visualization.html#cb366-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(<span class="at">x =</span> Sepal.Length, <span class="at">y =</span> Petal.Length)) <span class="sc">+</span> </span>
<span id="cb366-5"><a href="data-visualization.html#cb366-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">size=</span><span class="dv">2</span>,<span class="at">color=</span><span class="st">&quot;purple&quot;</span>)<span class="sc">+</span>  </span>
<span id="cb366-6"><a href="data-visualization.html#cb366-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># number format</span></span>
<span id="cb366-7"><a href="data-visualization.html#cb366-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_number</span>())<span class="sc">+</span></span>
<span id="cb366-8"><a href="data-visualization.html#cb366-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>( <span class="fu">aes</span>(<span class="at">size =</span>  Sepal.Length,<span class="at">colour =</span> <span class="fu">as.factor</span>(growth)),<span class="at">show.legend =</span> F)<span class="sc">+</span></span>
<span id="cb366-9"><a href="data-visualization.html#cb366-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Species) </span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-186-1.png" width="672" /></p>
</div>
</div>
<div id="ggplot2-parameters" class="section level2 hasAnchor" number="4.5">
<h2><span class="header-section-number">4.5</span> ggplot2 parameters<a href="data-visualization.html#ggplot2-parameters" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>For detail, please read this <a href="http://www.sthda.com/english/wiki/be-awesome-in-ggplot2-a-practical-guide-to-be-highly-effective-r-software-and-data-visualization#change-colors-automatically-and-manually">article</a> and this <a href="https://ggplot2-book.org/">one</a>.</p>
<!-- https://bookdown.org/wangminjie/R4DS/tidyverse-ggplot2-scales.html -->
<div class="sourceCode" id="cb367"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb367-1"><a href="data-visualization.html#cb367-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(datasauRus)</span>
<span id="cb367-2"><a href="data-visualization.html#cb367-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( )<span class="sc">+</span></span>
<span id="cb367-3"><a href="data-visualization.html#cb367-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">data=</span>datasaurus_dozen[datasaurus_dozen<span class="sc">$</span>dataset<span class="sc">==</span><span class="st">&quot;dino&quot;</span>,], <span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y),<span class="at">color=</span> <span class="st">&quot;#7CAE00&quot;</span> ) <span class="sc">+</span></span>
<span id="cb367-4"><a href="data-visualization.html#cb367-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_void</span>()<span class="sc">+</span></span>
<span id="cb367-5"><a href="data-visualization.html#cb367-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>) </span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-188-1.png" width="672" /></p>
<div id="components-of-plot" class="section level3 hasAnchor" number="4.5.1">
<h3><span class="header-section-number">4.5.1</span> Components of plot<a href="data-visualization.html#components-of-plot" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>Components of plot
<ul>
<li>Data: is a data frame</li>
<li>Aesthetics: is used to indicate x and y variables and to control the color, the size or the shape …</li>
<li>Geometry: the type of graphics (bar plot, line plot, scatter plot…)</li>
</ul></li>
<li>adjust parameters
<ul>
<li>adjust legend using <code>guide_</code><br />
</li>
<li>adjust color, size, and shape using <code>scale_</code>, <code>guide_</code> can further adjust <code>scale_</code></li>
<li>adjust panel, background, axis (font, color, size, angle), title, legend (position), caption using theme</li>
</ul></li>
<li>types of plots
<ul>
<li>geom_boxplot(): Box plot</li>
<li>geom_violin(): Violin plot</li>
<li>geom_dotplot(): Dot plot</li>
<li>geom_jitter(): Jitter charts</li>
<li>geom_line(): Line plot</li>
<li>geom_bar(): Bar plot</li>
<li>geom_errorbar(): Error bars</li>
<li>geom_point(): Scatter plot</li>
<li>geom_smooth(): Add smoothed curve</li>
<li>geom_quantile(): Add quantile lines<br />
</li>
<li>geom_text(): Textual annotations</li>
<li>geom_density(): Create a smooth density curve</li>
<li>geom_histogram(): Histogram</li>
</ul></li>
</ul>
<p><code>example</code></p>
<div class="sourceCode" id="cb368"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb368-1"><a href="data-visualization.html#cb368-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;faithful&quot;</span>)</span>
<span id="cb368-2"><a href="data-visualization.html#cb368-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Basic scatterplot</span></span>
<span id="cb368-3"><a href="data-visualization.html#cb368-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> faithful, </span>
<span id="cb368-4"><a href="data-visualization.html#cb368-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> eruptions, <span class="at">y =</span> waiting)) <span class="sc">+</span> </span>
<span id="cb368-5"><a href="data-visualization.html#cb368-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb368-6"><a href="data-visualization.html#cb368-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_density_2d</span>(<span class="fu">aes</span>(<span class="at">fill =</span> ..level..), <span class="at">geom=</span><span class="st">&quot;polygon&quot;</span>)   </span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-189-1.png" width="672" /></p>
<div class="sourceCode" id="cb369"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb369-1"><a href="data-visualization.html#cb369-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Data and mapping can be given both as global (in ggplot()) or per layer</span></span>
<span id="cb369-2"><a href="data-visualization.html#cb369-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ggplot() + </span></span>
<span id="cb369-3"><a href="data-visualization.html#cb369-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   geom_point(mapping = aes(x = eruptions, y = waiting),</span></span>
<span id="cb369-4"><a href="data-visualization.html#cb369-4" aria-hidden="true" tabindex="-1"></a><span class="co">#              data = faithful)</span></span></code></pre></div>
</div>
<div id="create-main-title-axis-labels-caption" class="section level3 hasAnchor" number="4.5.2">
<h3><span class="header-section-number">4.5.2</span> Create main title, axis labels, caption<a href="data-visualization.html#create-main-title-axis-labels-caption" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>pay attention whether argument is factor or continuous.</p>
<div class="sourceCode" id="cb370"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb370-1"><a href="data-visualization.html#cb370-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> faithful, </span>
<span id="cb370-2"><a href="data-visualization.html#cb370-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> eruptions, <span class="at">y =</span> waiting)) <span class="sc">+</span> </span>
<span id="cb370-3"><a href="data-visualization.html#cb370-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb370-4"><a href="data-visualization.html#cb370-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb370-5"><a href="data-visualization.html#cb370-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Number of xxx&quot;</span>,</span>
<span id="cb370-6"><a href="data-visualization.html#cb370-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;source: http://xxx&quot;</span>,</span>
<span id="cb370-7"><a href="data-visualization.html#cb370-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Eruptions&quot;</span> ,</span>
<span id="cb370-8"><a href="data-visualization.html#cb370-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Waiting time&quot;</span> ) <span class="sc">+</span></span>
<span id="cb370-9"><a href="data-visualization.html#cb370-9" aria-hidden="true" tabindex="-1"></a><span class="co"># customize title, axis, caption  </span></span>
<span id="cb370-10"><a href="data-visualization.html#cb370-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb370-11"><a href="data-visualization.html#cb370-11" aria-hidden="true" tabindex="-1"></a><span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">color=</span><span class="st">&quot;red&quot;</span>, <span class="at">size=</span><span class="dv">14</span>, <span class="at">face=</span><span class="st">&quot;bold.italic&quot;</span>),</span>
<span id="cb370-12"><a href="data-visualization.html#cb370-12" aria-hidden="true" tabindex="-1"></a><span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">color=</span><span class="st">&quot;red&quot;</span>, <span class="at">size=</span><span class="dv">10</span>, <span class="at">face=</span><span class="st">&quot;italic&quot;</span>),</span>
<span id="cb370-13"><a href="data-visualization.html#cb370-13" aria-hidden="true" tabindex="-1"></a><span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">color=</span><span class="st">&quot;blue&quot;</span>, <span class="at">size=</span><span class="dv">14</span>, <span class="at">face=</span><span class="st">&quot;bold&quot;</span>),</span>
<span id="cb370-14"><a href="data-visualization.html#cb370-14" aria-hidden="true" tabindex="-1"></a><span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">color=</span><span class="st">&quot;#993333&quot;</span>, <span class="at">size=</span><span class="dv">14</span>, <span class="at">face=</span><span class="st">&quot;bold&quot;</span>)</span>
<span id="cb370-15"><a href="data-visualization.html#cb370-15" aria-hidden="true" tabindex="-1"></a>)<span class="sc">+</span></span>
<span id="cb370-16"><a href="data-visualization.html#cb370-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb370-17"><a href="data-visualization.html#cb370-17" aria-hidden="true" tabindex="-1"></a><span class="co"># hide main title  </span></span>
<span id="cb370-18"><a href="data-visualization.html#cb370-18" aria-hidden="true" tabindex="-1"></a><span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_blank</span>() )</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-190-1.png" width="672" /></p>
</div>
<div id="create-legend-title-position" class="section level3 hasAnchor" number="4.5.3">
<h3><span class="header-section-number">4.5.3</span> Create legend title, position<a href="data-visualization.html#create-legend-title-position" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb371"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb371-1"><a href="data-visualization.html#cb371-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(faithful) <span class="sc">+</span> </span>
<span id="cb371-2"><a href="data-visualization.html#cb371-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> eruptions, <span class="at">y =</span> waiting, <span class="at">colour =</span> eruptions <span class="sc">&lt;</span> <span class="dv">3</span>))<span class="sc">+</span></span>
<span id="cb371-3"><a href="data-visualization.html#cb371-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">color=</span><span class="st">&quot;Numbers of eruptions&quot;</span>) <span class="sc">+</span></span>
<span id="cb371-4"><a href="data-visualization.html#cb371-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb371-5"><a href="data-visualization.html#cb371-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;left&quot;</span>)<span class="sc">+</span></span>
<span id="cb371-6"><a href="data-visualization.html#cb371-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Change the appearance of legend title and labels</span></span>
<span id="cb371-7"><a href="data-visualization.html#cb371-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">colour=</span><span class="st">&quot;blue&quot;</span>),</span>
<span id="cb371-8"><a href="data-visualization.html#cb371-8" aria-hidden="true" tabindex="-1"></a>          <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">colour=</span><span class="st">&quot;red&quot;</span>))<span class="sc">+</span></span>
<span id="cb371-9"><a href="data-visualization.html#cb371-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Change legend box background color</span></span>
<span id="cb371-10"><a href="data-visualization.html#cb371-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.background =</span> <span class="fu">element_rect</span>(<span class="at">fill=</span><span class="cn">NULL</span>))</span>
<span id="cb371-11"><a href="data-visualization.html#cb371-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(p)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-191-1.png" width="672" /></p>
<ul>
<li><code>customize legends using scale functions</code></li>
</ul>
<div class="sourceCode" id="cb372"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb372-1"><a href="data-visualization.html#cb372-1" aria-hidden="true" tabindex="-1"></a><span class="co"># how to change order of legend?  </span></span>
<span id="cb372-2"><a href="data-visualization.html#cb372-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Set legend title and labels</span></span>
<span id="cb372-3"><a href="data-visualization.html#cb372-3" aria-hidden="true" tabindex="-1"></a>p<span class="sc">+</span> <span class="fu">scale_color_discrete</span>(<span class="at">name =</span> <span class="st">&quot;Numbers of eruptions change&quot;</span>, <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;F&quot;</span>, <span class="st">&quot;T&quot;</span> ))</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-192-1.png" width="672" /></p>
<ul>
<li>customize legend</li>
</ul>
<p><code>guide_colorbar(): continuous colors</code></p>
<p><code>guide_legend(): discrete values (shapes, colors)</code></p>
<div class="sourceCode" id="cb373"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb373-1"><a href="data-visualization.html#cb373-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(faithful) <span class="sc">+</span> </span>
<span id="cb373-2"><a href="data-visualization.html#cb373-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> eruptions, <span class="at">y =</span> waiting, <span class="at">size =</span> eruptions <span class="sc">&lt;</span> <span class="dv">3</span>))<span class="sc">+</span></span>
<span id="cb373-3"><a href="data-visualization.html#cb373-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">size =</span> <span class="fu">guide_legend</span>(</span>
<span id="cb373-4"><a href="data-visualization.html#cb373-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># legend title</span></span>
<span id="cb373-5"><a href="data-visualization.html#cb373-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;title is too low&quot;</span>,</span>
<span id="cb373-6"><a href="data-visualization.html#cb373-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">title.position =</span> <span class="st">&quot;bottom&quot;</span>,</span>
<span id="cb373-7"><a href="data-visualization.html#cb373-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">title.vjust =</span> <span class="sc">-</span><span class="dv">5</span>,</span>
<span id="cb373-8"><a href="data-visualization.html#cb373-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># legend label</span></span>
<span id="cb373-9"><a href="data-visualization.html#cb373-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">label.position =</span> <span class="st">&quot;left&quot;</span>,</span>
<span id="cb373-10"><a href="data-visualization.html#cb373-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">label.hjust =</span> <span class="dv">1</span>,</span>
<span id="cb373-11"><a href="data-visualization.html#cb373-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">label.theme =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">15</span>,</span>
<span id="cb373-12"><a href="data-visualization.html#cb373-12" aria-hidden="true" tabindex="-1"></a>                               <span class="at">face =</span> <span class="st">&quot;italic&quot;</span>,</span>
<span id="cb373-13"><a href="data-visualization.html#cb373-13" aria-hidden="true" tabindex="-1"></a>                               <span class="at">colour =</span> <span class="st">&quot;red&quot;</span>,</span>
<span id="cb373-14"><a href="data-visualization.html#cb373-14" aria-hidden="true" tabindex="-1"></a>                               <span class="at">angle =</span> <span class="dv">0</span>),</span>
<span id="cb373-15"><a href="data-visualization.html#cb373-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># label reverse</span></span>
<span id="cb373-16"><a href="data-visualization.html#cb373-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">reverse =</span> <span class="cn">TRUE</span>,</span>
<span id="cb373-17"><a href="data-visualization.html#cb373-17" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb373-18"><a href="data-visualization.html#cb373-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># width of bin</span></span>
<span id="cb373-19"><a href="data-visualization.html#cb373-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">keywidth =</span> <span class="dv">1</span>,</span>
<span id="cb373-20"><a href="data-visualization.html#cb373-20" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb373-21"><a href="data-visualization.html#cb373-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">ncol =</span> <span class="dv">4</span></span>
<span id="cb373-22"><a href="data-visualization.html#cb373-22" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb373-23"><a href="data-visualization.html#cb373-23" aria-hidden="true" tabindex="-1"></a>   )</span>
<span id="cb373-24"><a href="data-visualization.html#cb373-24" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-193-1.png" width="672" /></p>
<ul>
<li>delete a legend</li>
</ul>
<div class="sourceCode" id="cb374"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb374-1"><a href="data-visualization.html#cb374-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy, <span class="at">color =</span> class, <span class="at">size =</span> cyl)) <span class="sc">+</span></span>
<span id="cb374-2"><a href="data-visualization.html#cb374-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb374-3"><a href="data-visualization.html#cb374-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(</span>
<span id="cb374-4"><a href="data-visualization.html#cb374-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="st">&quot;type&quot;</span>),      <span class="co"># keep</span></span>
<span id="cb374-5"><a href="data-visualization.html#cb374-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="st">&quot;none&quot;</span>                      <span class="co"># remove</span></span>
<span id="cb374-6"><a href="data-visualization.html#cb374-6" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-194-1.png" width="672" /></p>
<ul>
<li>combine two legends when they use the same variable (mapping)</li>
</ul>
<div class="sourceCode" id="cb375"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb375-1"><a href="data-visualization.html#cb375-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy, <span class="at">color =</span> cyl, <span class="at">size =</span> cyl)) <span class="sc">+</span></span>
<span id="cb375-2"><a href="data-visualization.html#cb375-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb375-3"><a href="data-visualization.html#cb375-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_viridis_c</span>() <span class="sc">+</span></span>
<span id="cb375-4"><a href="data-visualization.html#cb375-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb375-5"><a href="data-visualization.html#cb375-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(</span>
<span id="cb375-6"><a href="data-visualization.html#cb375-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="st">&quot;title&quot;</span>),</span>
<span id="cb375-7"><a href="data-visualization.html#cb375-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fu">guide_legend</span>(<span class="st">&quot;title&quot;</span>)</span>
<span id="cb375-8"><a href="data-visualization.html#cb375-8" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-195-1.png" width="672" /></p>
<div class="sourceCode" id="cb376"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb376-1"><a href="data-visualization.html#cb376-1" aria-hidden="true" tabindex="-1"></a><span class="co"># guide = &quot;legend&quot;</span></span></code></pre></div>
</div>
<div id="change-plot-colors" class="section level3 hasAnchor" number="4.5.4">
<h3><span class="header-section-number">4.5.4</span> Change plot colors<a href="data-visualization.html#change-plot-colors" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>set color into aes()</code></p>
<div class="sourceCode" id="cb377"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb377-1"><a href="data-visualization.html#cb377-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(faithful) <span class="sc">+</span> </span>
<span id="cb377-2"><a href="data-visualization.html#cb377-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> eruptions, <span class="at">y =</span> waiting, <span class="at">colour =</span> eruptions <span class="sc">&lt;</span> <span class="dv">3</span>))</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-196-1.png" width="672" /></p>
<p><code>set color outside of aes()</code></p>
<div class="sourceCode" id="cb378"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb378-1"><a href="data-visualization.html#cb378-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(faithful) <span class="sc">+</span> </span>
<span id="cb378-2"><a href="data-visualization.html#cb378-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> eruptions, <span class="at">y =</span> waiting),</span>
<span id="cb378-3"><a href="data-visualization.html#cb378-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">colour =</span> <span class="st">&#39;steelblue&#39;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-197-1.png" width="672" /></p>
<ul>
<li>Colour the histogram with <code>color</code> and <code>fill</code></li>
</ul>
<div class="sourceCode" id="cb379"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb379-1"><a href="data-visualization.html#cb379-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(faithful) <span class="sc">+</span> </span>
<span id="cb379-2"><a href="data-visualization.html#cb379-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x =</span> eruptions,<span class="at">color=</span>eruptions <span class="sc">&lt;</span> <span class="dv">3</span>, <span class="at">fill=</span>eruptions <span class="sc">&lt;</span> <span class="dv">4</span>))</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-198-1.png" width="672" /></p>
<ul>
<li>Colour the histogram by <code>waiting</code> and changing <code>position</code></li>
</ul>
<div class="sourceCode" id="cb381"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb381-1"><a href="data-visualization.html#cb381-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(faithful) <span class="sc">+</span> </span>
<span id="cb381-2"><a href="data-visualization.html#cb381-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x =</span> eruptions,<span class="at">color=</span>waiting<span class="sc">&gt;</span><span class="dv">60</span>), <span class="at">position =</span> <span class="st">&#39;dodge&#39;</span>)</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-199-1.png" width="672" /></p>
<div class="sourceCode" id="cb383"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb383-1"><a href="data-visualization.html#cb383-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(faithful) <span class="sc">+</span> </span>
<span id="cb383-2"><a href="data-visualization.html#cb383-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x =</span> eruptions,<span class="at">color=</span>waiting<span class="sc">&gt;</span><span class="dv">60</span>), <span class="at">position =</span> <span class="st">&#39;identity&#39;</span>)</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-200-1.png" width="672" /></p>
<p>For fill and stack position, please see <code>position</code> section.</p>
<ul>
<li><code>change colors manually using scale</code></li>
</ul>
<div class="sourceCode" id="cb385"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb385-1"><a href="data-visualization.html#cb385-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(faithful) <span class="sc">+</span> </span>
<span id="cb385-2"><a href="data-visualization.html#cb385-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x =</span> eruptions,<span class="at">color=</span>eruptions <span class="sc">&lt;</span> <span class="dv">3</span>, <span class="at">fill=</span>eruptions <span class="sc">&lt;</span> <span class="dv">4</span>))<span class="sc">+</span></span>
<span id="cb385-3"><a href="data-visualization.html#cb385-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Box plot</span></span>
<span id="cb385-4"><a href="data-visualization.html#cb385-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values=</span><span class="fu">c</span>(<span class="st">&quot;#999999&quot;</span>, <span class="st">&quot;#E69F00&quot;</span>))</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-201-1.png" width="672" /></p>
<div class="sourceCode" id="cb386"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb386-1"><a href="data-visualization.html#cb386-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Scatter plot</span></span>
<span id="cb386-2"><a href="data-visualization.html#cb386-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values=</span><span class="fu">c</span>( <span class="st">&quot;#E69F00&quot;</span>, <span class="st">&quot;#56B4E9&quot;</span>))</span></code></pre></div>
<pre><code>## &lt;ggproto object: Class ScaleDiscrete, Scale, gg&gt;
##     aesthetics: colour
##     axis_order: function
##     break_info: function
##     break_positions: function
##     breaks: waiver
##     call: call
##     clone: function
##     dimension: function
##     drop: TRUE
##     expand: waiver
##     get_breaks: function
##     get_breaks_minor: function
##     get_labels: function
##     get_limits: function
##     guide: legend
##     is_discrete: function
##     is_empty: function
##     labels: waiver
##     limits: NULL
##     make_sec_title: function
##     make_title: function
##     map: function
##     map_df: function
##     n.breaks.cache: NULL
##     na.translate: TRUE
##     na.value: grey50
##     name: waiver
##     palette: function
##     palette.cache: NULL
##     position: left
##     range: &lt;ggproto object: Class RangeDiscrete, Range, gg&gt;
##         range: NULL
##         reset: function
##         train: function
##         super:  &lt;ggproto object: Class RangeDiscrete, Range, gg&gt;
##     rescale: function
##     reset: function
##     scale_name: manual
##     train: function
##     train_df: function
##     transform: function
##     transform_df: function
##     super:  &lt;ggproto object: Class ScaleDiscrete, Scale, gg&gt;</code></pre>
<ul>
<li><code>using scale brewer automatically</code></li>
</ul>
<div class="sourceCode" id="cb388"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb388-1"><a href="data-visualization.html#cb388-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(faithful) <span class="sc">+</span> </span>
<span id="cb388-2"><a href="data-visualization.html#cb388-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x =</span> eruptions,<span class="at">color=</span>eruptions <span class="sc">&lt;</span> <span class="dv">3</span>, <span class="at">fill=</span>eruptions <span class="sc">&lt;</span> <span class="dv">4</span>))<span class="sc">+</span></span>
<span id="cb388-3"><a href="data-visualization.html#cb388-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Box plot</span></span>
<span id="cb388-4"><a href="data-visualization.html#cb388-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette=</span><span class="st">&quot;Dark2&quot;</span>)</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-202-1.png" width="672" /></p>
<div class="sourceCode" id="cb390"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb390-1"><a href="data-visualization.html#cb390-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Scatter plot</span></span>
<span id="cb390-2"><a href="data-visualization.html#cb390-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette=</span><span class="st">&quot;Set1&quot;</span>)</span></code></pre></div>
<pre><code>## &lt;ggproto object: Class ScaleDiscrete, Scale, gg&gt;
##     aesthetics: colour
##     axis_order: function
##     break_info: function
##     break_positions: function
##     breaks: waiver
##     call: call
##     clone: function
##     dimension: function
##     drop: TRUE
##     expand: waiver
##     get_breaks: function
##     get_breaks_minor: function
##     get_labels: function
##     get_limits: function
##     guide: legend
##     is_discrete: function
##     is_empty: function
##     labels: waiver
##     limits: NULL
##     make_sec_title: function
##     make_title: function
##     map: function
##     map_df: function
##     n.breaks.cache: NULL
##     na.translate: TRUE
##     na.value: NA
##     name: waiver
##     palette: function
##     palette.cache: NULL
##     position: left
##     range: &lt;ggproto object: Class RangeDiscrete, Range, gg&gt;
##         range: NULL
##         reset: function
##         train: function
##         super:  &lt;ggproto object: Class RangeDiscrete, Range, gg&gt;
##     rescale: function
##     reset: function
##     scale_name: brewer
##     train: function
##     train_df: function
##     transform: function
##     transform_df: function
##     super:  &lt;ggproto object: Class ScaleDiscrete, Scale, gg&gt;</code></pre>
<div class="sourceCode" id="cb392"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb392-1"><a href="data-visualization.html#cb392-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># using guide to change the color of legend key</span></span></code></pre></div>
<ul>
<li><code>using gray colors using scale</code></li>
</ul>
<div class="sourceCode" id="cb393"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb393-1"><a href="data-visualization.html#cb393-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb393-2"><a href="data-visualization.html#cb393-2" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">scale_fill_grey</span>()  <span class="co">#no fill element</span></span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-203-1.png" width="672" /></p>
<div class="sourceCode" id="cb394"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb394-1"><a href="data-visualization.html#cb394-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb394-2"><a href="data-visualization.html#cb394-2" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">scale_color_grey</span>()  </span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-203-2.png" width="672" /></p>
<ul>
<li><code>Gradient or continuous colors (can set the middle point as</code>white<code>)</code></li>
</ul>
<div class="sourceCode" id="cb395"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb395-1"><a href="data-visualization.html#cb395-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Color by cty values</span></span>
<span id="cb395-2"><a href="data-visualization.html#cb395-2" aria-hidden="true" tabindex="-1"></a>sp2<span class="ot">&lt;-</span><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy)) <span class="sc">+</span></span>
<span id="cb395-3"><a href="data-visualization.html#cb395-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> cty))</span>
<span id="cb395-4"><a href="data-visualization.html#cb395-4" aria-hidden="true" tabindex="-1"></a>sp2</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-204-1.png" width="672" /></p>
<div class="sourceCode" id="cb396"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb396-1"><a href="data-visualization.html#cb396-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Change the low and high colors</span></span>
<span id="cb396-2"><a href="data-visualization.html#cb396-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Sequential color scheme</span></span>
<span id="cb396-3"><a href="data-visualization.html#cb396-3" aria-hidden="true" tabindex="-1"></a>sp2<span class="sc">+</span><span class="fu">scale_color_gradient</span>(<span class="at">low=</span><span class="st">&quot;blue&quot;</span>, <span class="at">high=</span><span class="st">&quot;red&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-204-2.png" width="672" /></p>
<div class="sourceCode" id="cb397"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb397-1"><a href="data-visualization.html#cb397-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Diverging color scheme</span></span>
<span id="cb397-2"><a href="data-visualization.html#cb397-2" aria-hidden="true" tabindex="-1"></a>mid<span class="ot">&lt;-</span><span class="fu">mean</span>(mpg<span class="sc">$</span>cty)</span>
<span id="cb397-3"><a href="data-visualization.html#cb397-3" aria-hidden="true" tabindex="-1"></a>sp2<span class="sc">+</span><span class="fu">scale_color_gradient2</span>(<span class="at">midpoint=</span>mid, <span class="at">low=</span><span class="st">&quot;blue&quot;</span>, <span class="at">mid=</span><span class="st">&quot;white&quot;</span>,</span>
<span id="cb397-4"><a href="data-visualization.html#cb397-4" aria-hidden="true" tabindex="-1"></a>                          <span class="at">high=</span><span class="st">&quot;red&quot;</span>  )</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-204-3.png" width="672" /></p>
</div>
<div id="change-points-shapes-transparent-and-size" class="section level3 hasAnchor" number="4.5.5">
<h3><span class="header-section-number">4.5.5</span> Change points shapes, transparent and size<a href="data-visualization.html#change-points-shapes-transparent-and-size" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>make the points larger and slightly transparent.</p>
<div class="sourceCode" id="cb398"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb398-1"><a href="data-visualization.html#cb398-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(faithful) <span class="sc">+</span> </span>
<span id="cb398-2"><a href="data-visualization.html#cb398-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> eruptions, <span class="at">y =</span> waiting, <span class="at">shape=</span> eruptions <span class="sc">&lt;</span> <span class="dv">3</span>, <span class="at">size=</span>eruptions), <span class="at">color=</span><span class="st">&quot;steelblue&quot;</span>, <span class="at">alpha=</span><span class="fl">0.5</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-205-1.png" width="672" /></p>
<div class="sourceCode" id="cb399"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb399-1"><a href="data-visualization.html#cb399-1" aria-hidden="true" tabindex="-1"></a><span class="co"># hwo to reverse order of legend size </span></span>
<span id="cb399-2"><a href="data-visualization.html#cb399-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(faithful) <span class="sc">+</span> </span>
<span id="cb399-3"><a href="data-visualization.html#cb399-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> eruptions, <span class="at">y =</span> waiting, <span class="at">shape=</span> eruptions <span class="sc">&lt;</span> <span class="dv">3</span>, <span class="at">size=</span>eruptions), <span class="at">color=</span><span class="st">&quot;steelblue&quot;</span>, <span class="at">alpha=</span><span class="fl">0.5</span>)<span class="sc">+</span></span>
<span id="cb399-4"><a href="data-visualization.html#cb399-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb399-5"><a href="data-visualization.html#cb399-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_shape_manual</span>(<span class="at">values=</span><span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">23</span> ))<span class="sc">+</span></span>
<span id="cb399-6"><a href="data-visualization.html#cb399-6" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb399-7"><a href="data-visualization.html#cb399-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&quot;top&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-206-1.png" width="672" /></p>
</div>
<div id="change-bars-position" class="section level3 hasAnchor" number="4.5.6">
<h3><span class="header-section-number">4.5.6</span> Change bars position<a href="data-visualization.html#change-bars-position" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb400"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb400-1"><a href="data-visualization.html#cb400-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(fl, <span class="at">fill =</span> drv))</span>
<span id="cb400-2"><a href="data-visualization.html#cb400-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb400-3"><a href="data-visualization.html#cb400-3" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">geom_bar</span> ()</span>
<span id="cb400-4"><a href="data-visualization.html#cb400-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb400-5"><a href="data-visualization.html#cb400-5" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">&quot;dodge&quot;</span>)</span>
<span id="cb400-6"><a href="data-visualization.html#cb400-6" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb400-7"><a href="data-visualization.html#cb400-7" aria-hidden="true" tabindex="-1"></a>p3 <span class="ot">&lt;-</span>p <span class="sc">+</span> <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">&quot;fill&quot;</span>)</span>
<span id="cb400-8"><a href="data-visualization.html#cb400-8" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb400-9"><a href="data-visualization.html#cb400-9" aria-hidden="true" tabindex="-1"></a>p4 <span class="ot">&lt;-</span>p <span class="sc">+</span> <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">&quot;stack&quot;</span>)</span>
<span id="cb400-10"><a href="data-visualization.html#cb400-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb400-11"><a href="data-visualization.html#cb400-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gridExtra)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;gridExtra&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:dplyr&#39;:
## 
##     combine</code></pre>
<div class="sourceCode" id="cb403"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb403-1"><a href="data-visualization.html#cb403-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(p1, p2, p3,p4, <span class="at">ncol=</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-207-1.png" width="672" /></p>
</div>
<div id="add-text-annotations" class="section level3 hasAnchor" number="4.5.7">
<h3><span class="header-section-number">4.5.7</span> Add text annotations<a href="data-visualization.html#add-text-annotations" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb404"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb404-1"><a href="data-visualization.html#cb404-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>mpg[(<span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>), ], <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy)) <span class="sc">+</span></span>
<span id="cb404-2"><a href="data-visualization.html#cb404-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> cty))<span class="sc">+</span></span>
<span id="cb404-3"><a href="data-visualization.html#cb404-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb404-4"><a href="data-visualization.html#cb404-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> manufacturer ),</span>
<span id="cb404-5"><a href="data-visualization.html#cb404-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">size =</span> <span class="dv">2</span>, <span class="at">vjust =</span> <span class="sc">-</span><span class="dv">1</span>)  <span class="co">#vjust is site not direction</span></span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-208-1.png" width="672" /></p>
</div>
<div id="add-a-line-that-separates-points" class="section level3 hasAnchor" number="4.5.8">
<h3><span class="header-section-number">4.5.8</span> Add a line that (separates points)<a href="data-visualization.html#add-a-line-that-separates-points" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb405"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb405-1"><a href="data-visualization.html#cb405-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(faithful) <span class="sc">+</span> </span>
<span id="cb405-2"><a href="data-visualization.html#cb405-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> eruptions, <span class="at">y =</span> waiting))<span class="sc">+</span></span>
<span id="cb405-3"><a href="data-visualization.html#cb405-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb405-4"><a href="data-visualization.html#cb405-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">slope=</span><span class="sc">-</span><span class="dv">13</span>,<span class="at">intercept =</span> <span class="dv">100</span>,<span class="at">color=</span><span class="st">&quot;red&quot;</span>, <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>)<span class="sc">+</span></span>
<span id="cb405-5"><a href="data-visualization.html#cb405-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add horizontal line at y = 2O; change line type and color</span></span>
<span id="cb405-6"><a href="data-visualization.html#cb405-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept=</span><span class="dv">20</span>, <span class="at">linetype=</span><span class="st">&quot;dotted&quot;</span>, <span class="at">color =</span> <span class="st">&quot;red&quot;</span>)<span class="sc">+</span></span>
<span id="cb405-7"><a href="data-visualization.html#cb405-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Add vertical line at x = 3; change line type, color and size</span></span>
<span id="cb405-8"><a href="data-visualization.html#cb405-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">3</span>, <span class="at">color =</span> <span class="st">&quot;blue&quot;</span>, <span class="at">size=</span><span class="fl">1.5</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-209-1.png" width="672" /></p>
<div class="sourceCode" id="cb406"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb406-1"><a href="data-visualization.html#cb406-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add regression line</span></span></code></pre></div>
<p><code>add segment and arrow</code></p>
<div class="sourceCode" id="cb407"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb407-1"><a href="data-visualization.html#cb407-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy )) <span class="sc">+</span></span>
<span id="cb407-2"><a href="data-visualization.html#cb407-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb407-3"><a href="data-visualization.html#cb407-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Add horizontal line segment</span></span>
<span id="cb407-4"><a href="data-visualization.html#cb407-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">2</span>, <span class="at">y =</span> <span class="dv">15</span>, <span class="at">xend =</span> <span class="dv">3</span>, <span class="at">yend =</span> <span class="dv">15</span>, <span class="at">size=</span><span class="dv">3</span>, <span class="at">color=</span><span class="st">&quot;red&quot;</span>)) <span class="sc">+</span></span>
<span id="cb407-5"><a href="data-visualization.html#cb407-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">3</span>, <span class="at">y =</span> <span class="dv">33</span>, <span class="at">xend =</span> <span class="fl">2.5</span> , <span class="at">yend =</span> <span class="dv">30</span>),</span>
<span id="cb407-6"><a href="data-visualization.html#cb407-6" aria-hidden="true" tabindex="-1"></a>                  <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">length =</span> <span class="fu">unit</span>(<span class="fl">0.5</span>, <span class="st">&quot;cm&quot;</span>)))</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-210-1.png" width="672" /></p>
<p><code>fitted curve</code></p>
<div class="sourceCode" id="cb408"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb408-1"><a href="data-visualization.html#cb408-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>mpg[mpg<span class="sc">$</span>fl<span class="sc">!=</span><span class="st">&quot;c&quot;</span>,], <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy)) <span class="sc">+</span></span>
<span id="cb408-2"><a href="data-visualization.html#cb408-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>( ) <span class="sc">+</span></span>
<span id="cb408-3"><a href="data-visualization.html#cb408-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">color=</span><span class="st">&quot;red&quot;</span>) <span class="co">#fitted curve</span></span></code></pre></div>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-211-1.png" width="672" /></p>
<div class="sourceCode" id="cb410"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb410-1"><a href="data-visualization.html#cb410-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>mpg[mpg<span class="sc">$</span>fl<span class="sc">!=</span><span class="st">&quot;c&quot;</span>,], <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy)) <span class="sc">+</span></span>
<span id="cb410-2"><a href="data-visualization.html#cb410-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>( ) <span class="sc">+</span> </span>
<span id="cb410-3"><a href="data-visualization.html#cb410-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_quantile</span>() <span class="sc">+</span></span>
<span id="cb410-4"><a href="data-visualization.html#cb410-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_rug</span>()<span class="sc">+</span></span>
<span id="cb410-5"><a href="data-visualization.html#cb410-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<pre><code>## Smoothing formula not specified. Using: y ~ x</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-212-1.png" width="672" /></p>
<p><code>customize line</code></p>
<div class="sourceCode" id="cb412"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb412-1"><a href="data-visualization.html#cb412-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy, <span class="at">color =</span> fl, <span class="at">linetype =</span> fl, <span class="at">size=</span>fl)) <span class="sc">+</span></span>
<span id="cb412-2"><a href="data-visualization.html#cb412-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb412-3"><a href="data-visualization.html#cb412-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>( ) )<span class="sc">+</span></span>
<span id="cb412-4"><a href="data-visualization.html#cb412-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">color=</span><span class="st">&quot;What is fl&quot;</span>)<span class="sc">+</span></span>
<span id="cb412-5"><a href="data-visualization.html#cb412-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb412-6"><a href="data-visualization.html#cb412-6" aria-hidden="true" tabindex="-1"></a><span class="co"># customize linetype, color, size  </span></span>
<span id="cb412-7"><a href="data-visualization.html#cb412-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_linetype_manual</span>(<span class="at">values=</span><span class="fu">c</span>(<span class="st">&quot;twodash&quot;</span>, <span class="st">&quot;dotted&quot;</span>,<span class="st">&quot;twodash&quot;</span>, <span class="st">&quot;dotted&quot;</span>,<span class="st">&quot;twodash&quot;</span>))<span class="sc">+</span></span>
<span id="cb412-8"><a href="data-visualization.html#cb412-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">name =</span> <span class="st">&quot;continents&quot;</span>,<span class="at">breaks =</span> <span class="fu">c</span>(<span class="st">&quot;c&quot;</span>, <span class="st">&quot;d&quot;</span>, <span class="st">&quot;e&quot;</span>, <span class="st">&quot;Europe&quot;</span>, <span class="st">&quot;Oceania&quot;</span>),<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;africa&quot;</span>, <span class="st">&quot;americas&quot;</span>, <span class="st">&quot;asia&quot;</span>, <span class="st">&quot;europe&quot;</span>, <span class="st">&quot;oceania&quot;</span>),  <span class="at">values=</span><span class="fu">c</span>(<span class="st">&#39;#999999&#39;</span>,<span class="st">&#39;#E69F00&#39;</span>,<span class="st">&#39;#999999&#39;</span>,<span class="st">&#39;#E69F00&#39;</span>,<span class="st">&#39;#999999&#39;</span>)   )<span class="sc">+</span> <span class="co">#using breaks define three labels   </span></span>
<span id="cb412-9"><a href="data-visualization.html#cb412-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size_manual</span>(<span class="at">values=</span><span class="fu">seq</span>(<span class="dv">1</span>,<span class="dv">4</span>, <span class="fl">0.2</span>))<span class="sc">+</span></span>
<span id="cb412-10"><a href="data-visualization.html#cb412-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&quot;top&quot;</span>) <span class="sc">+</span></span>
<span id="cb412-11"><a href="data-visualization.html#cb412-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb412-12"><a href="data-visualization.html#cb412-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color=</span><span class="st">&quot;legend&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-213-1.png" width="672" /></p>
</div>
<div id="using-scale_-function" class="section level3 hasAnchor" number="4.5.9">
<h3><span class="header-section-number">4.5.9</span> Using scale_ function<a href="data-visualization.html#using-scale_-function" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>all mappings have associated scales even if not specified.</p>
<ul>
<li>uisng <code>scale_colour_brewer</code>.</li>
</ul>
<div class="sourceCode" id="cb413"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb413-1"><a href="data-visualization.html#cb413-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg) <span class="sc">+</span> </span>
<span id="cb413-2"><a href="data-visualization.html#cb413-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy, <span class="at">colour =</span> class)) <span class="sc">+</span> </span>
<span id="cb413-3"><a href="data-visualization.html#cb413-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_brewer</span>(<span class="at">type =</span> <span class="st">&#39;qual&#39;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-214-1.png" width="672" /></p>
<p><code>RColorBrewer</code></p>
<div class="sourceCode" id="cb414"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb414-1"><a href="data-visualization.html#cb414-1" aria-hidden="true" tabindex="-1"></a>RColorBrewer<span class="sc">::</span><span class="fu">display.brewer.all</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-215-1.png" width="672" /></p>
<ul>
<li>using different palettes</li>
</ul>
<div class="sourceCode" id="cb415"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb415-1"><a href="data-visualization.html#cb415-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg) <span class="sc">+</span> </span>
<span id="cb415-2"><a href="data-visualization.html#cb415-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy, <span class="at">colour =</span> class)) <span class="sc">+</span> </span>
<span id="cb415-3"><a href="data-visualization.html#cb415-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_brewer</span> (<span class="at">palette =</span> <span class="st">&#39;Paired&#39;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-216-1.png" width="672" /></p>
<ul>
<li>showing <code>cyl</code> with size</li>
</ul>
<div class="sourceCode" id="cb416"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb416-1"><a href="data-visualization.html#cb416-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg) <span class="sc">+</span> </span>
<span id="cb416-2"><a href="data-visualization.html#cb416-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy, <span class="at">colour =</span>  class, <span class="at">size=</span>cyl)) <span class="sc">+</span> </span>
<span id="cb416-3"><a href="data-visualization.html#cb416-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_brewer</span>(<span class="at">palette  =</span> <span class="st">&#39;Set1&#39;</span> ) <span class="sc">+</span></span>
<span id="cb416-4"><a href="data-visualization.html#cb416-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size</span> (<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">6</span>))   </span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-217-1.png" width="672" /></p>
<!-- - **Can use `breaks` to select the legend you want** -->
<!-- ```{r} -->
<!-- # how to remove a legend? -->
<!-- ggplot(mpg) +  -->
<!--   geom_point(aes(x = displ, y = hwy, colour =  class, size=cyl)) +  -->
<!--   scale_colour_brewer(palette  = 'Set1') + -->
<!--   scale_size (breaks = c(40,60))    -->
<!-- ggplot(mpg) +  -->
<!--   geom_point(aes(x = displ, y = hwy, colour =  class, size=cyl)) +  -->
<!--   scale_colour_brewer(palette  = 'Set1', breaks = c(4,6)) + -->
<!--   scale_size (breaks = c(4,6))    -->
<!-- ``` -->
<ul>
<li>using <code>guides</code> to modify the <code>scale_</code></li>
</ul>
<div class="sourceCode" id="cb417"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb417-1"><a href="data-visualization.html#cb417-1" aria-hidden="true" tabindex="-1"></a> <span class="fu">ggplot</span>(mpg) <span class="sc">+</span></span>
<span id="cb417-2"><a href="data-visualization.html#cb417-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy, <span class="at">colour =</span> cyl, <span class="at">size=</span>cyl)) <span class="sc">+</span></span>
<span id="cb417-3"><a href="data-visualization.html#cb417-3" aria-hidden="true" tabindex="-1"></a>   <span class="co"># scale_colour_brewer(palette  = &#39;Set1&#39;) +   #can not continuous </span></span>
<span id="cb417-4"><a href="data-visualization.html#cb417-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_size</span> (<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>))  <span class="sc">+</span></span>
<span id="cb417-5"><a href="data-visualization.html#cb417-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb417-6"><a href="data-visualization.html#cb417-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">guides</span>( <span class="at">size =</span> <span class="fu">guide_legend</span>(</span>
<span id="cb417-7"><a href="data-visualization.html#cb417-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="fu">c</span>(<span class="st">&#39;red&#39;</span>, <span class="st">&#39;blue&#39;</span>, <span class="st">&#39;black&#39;</span>))))</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-218-1.png" width="672" /></p>
<ul>
<li>unite legends</li>
</ul>
<p>when multiple aesthetics are mapped to the same variable.</p>
<div class="sourceCode" id="cb418"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb418-1"><a href="data-visualization.html#cb418-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg) <span class="sc">+</span> </span>
<span id="cb418-2"><a href="data-visualization.html#cb418-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy, <span class="at">colour =</span> cyl, <span class="at">size=</span>cyl))   <span class="sc">+</span></span>
<span id="cb418-3"><a href="data-visualization.html#cb418-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">colour=</span><span class="st">&quot;legend&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-219-1.png" width="672" /></p>
<p><code>category is also ok</code></p>
<div class="sourceCode" id="cb419"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb419-1"><a href="data-visualization.html#cb419-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg) <span class="sc">+</span> </span>
<span id="cb419-2"><a href="data-visualization.html#cb419-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy, <span class="at">colour =</span> fl, <span class="at">size=</span>fl))   <span class="sc">+</span></span>
<span id="cb419-3"><a href="data-visualization.html#cb419-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">colour=</span><span class="st">&quot;legend&quot;</span>) <span class="co">#size is not ok</span></span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-220-1.png" width="672" /></p>
<ul>
<li>x and y also have associated scales</li>
</ul>
<div class="sourceCode" id="cb420"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb420-1"><a href="data-visualization.html#cb420-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg) <span class="sc">+</span> </span>
<span id="cb420-2"><a href="data-visualization.html#cb420-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy)) <span class="sc">+</span> </span>
<span id="cb420-3"><a href="data-visualization.html#cb420-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="fl">3.5</span>, <span class="dv">5</span>, <span class="dv">6</span>)) <span class="sc">+</span> </span>
<span id="cb420-4"><a href="data-visualization.html#cb420-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">trans =</span> <span class="st">&#39;log2&#39;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-221-1.png" width="672" /></p>
</div>
<div id="change-coordinates" class="section level3 hasAnchor" number="4.5.10">
<h3><span class="header-section-number">4.5.10</span> Change coordinates<a href="data-visualization.html#change-coordinates" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Changing the coordinate system can have dramatic effects</p>
<ul>
<li>coord_polar</li>
</ul>
<div class="sourceCode" id="cb421"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb421-1"><a href="data-visualization.html#cb421-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg) <span class="sc">+</span> </span>
<span id="cb421-2"><a href="data-visualization.html#cb421-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> class)) <span class="sc">+</span> </span>
<span id="cb421-3"><a href="data-visualization.html#cb421-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_polar</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-222-1.png" width="672" /></p>
<div class="sourceCode" id="cb422"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb422-1"><a href="data-visualization.html#cb422-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg) <span class="sc">+</span> </span>
<span id="cb422-2"><a href="data-visualization.html#cb422-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> class)) <span class="sc">+</span> </span>
<span id="cb422-3"><a href="data-visualization.html#cb422-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_polar</span>(<span class="at">theta =</span> <span class="st">&#39;y&#39;</span>) <span class="sc">+</span> </span>
<span id="cb422-4"><a href="data-visualization.html#cb422-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">expand_limits</span>(<span class="at">y =</span> <span class="dv">70</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-223-1.png" width="672" /></p>
<ul>
<li>specify the scale of coordinate</li>
</ul>
<div class="sourceCode" id="cb423"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb423-1"><a href="data-visualization.html#cb423-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(scales)</span></code></pre></div>
<pre><code>## Loading required package: scales</code></pre>
<pre><code>## 
## Attaching package: &#39;scales&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:psych&#39;:
## 
##     alpha, rescale</code></pre>
<pre><code>## The following object is masked from &#39;package:plotrix&#39;:
## 
##     rescale</code></pre>
<pre><code>## The following object is masked from &#39;package:purrr&#39;:
## 
##     discard</code></pre>
<pre><code>## The following object is masked from &#39;package:readr&#39;:
## 
##     col_factor</code></pre>
<div class="sourceCode" id="cb430"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb430-1"><a href="data-visualization.html#cb430-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg) <span class="sc">+</span> </span>
<span id="cb430-2"><a href="data-visualization.html#cb430-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> class)) <span class="sc">+</span> </span>
<span id="cb430-3"><a href="data-visualization.html#cb430-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">50</span>), <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">50</span>, <span class="dv">01</span>)) </span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-224-1.png" width="672" /></p>
<div class="sourceCode" id="cb431"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb431-1"><a href="data-visualization.html#cb431-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># scale_y_continuous(labels = percent) # labels as percents</span></span>
<span id="cb431-2"><a href="data-visualization.html#cb431-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># +</span></span>
<span id="cb431-3"><a href="data-visualization.html#cb431-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># scale_x_discrete(labels=c(1:7)  )</span></span></code></pre></div>
<ul>
<li>using coord_cartesian <code>zoom in</code></li>
</ul>
<div class="sourceCode" id="cb432"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb432-1"><a href="data-visualization.html#cb432-1" aria-hidden="true" tabindex="-1"></a><span class="co"># have been deleted </span></span>
<span id="cb432-2"><a href="data-visualization.html#cb432-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg) <span class="sc">+</span> </span>
<span id="cb432-3"><a href="data-visualization.html#cb432-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> class)) <span class="sc">+</span> </span>
<span id="cb432-4"><a href="data-visualization.html#cb432-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">30</span>))<span class="sc">+</span></span>
<span id="cb432-5"><a href="data-visualization.html#cb432-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>( <span class="at">limit=</span><span class="fu">c</span>(<span class="st">&quot;midsize&quot;</span>,<span class="st">&quot;compact&quot;</span>))</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-225-1.png" width="672" /></p>
<div class="sourceCode" id="cb433"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb433-1"><a href="data-visualization.html#cb433-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg) <span class="sc">+</span> </span>
<span id="cb433-2"><a href="data-visualization.html#cb433-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> class)) <span class="sc">+</span> </span>
<span id="cb433-3"><a href="data-visualization.html#cb433-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>( <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">30</span>))<span class="sc">+</span></span>
<span id="cb433-4"><a href="data-visualization.html#cb433-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>( <span class="at">limit=</span><span class="fu">c</span>(<span class="st">&quot;midsize&quot;</span>,<span class="st">&quot;compact&quot;</span>))</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-226-1.png" width="672" /></p>
<ul>
<li>reverse direction of axes</li>
</ul>
<div class="sourceCode" id="cb434"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb434-1"><a href="data-visualization.html#cb434-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg) <span class="sc">+</span> </span>
<span id="cb434-2"><a href="data-visualization.html#cb434-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> hwy, <span class="at">y =</span> displ))<span class="sc">+</span></span>
<span id="cb434-3"><a href="data-visualization.html#cb434-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb434-4"><a href="data-visualization.html#cb434-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">35</span>,<span class="dv">40</span>)) <span class="sc">+</span> </span>
<span id="cb434-5"><a href="data-visualization.html#cb434-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_reverse</span>()<span class="sc">+</span></span>
<span id="cb434-6"><a href="data-visualization.html#cb434-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">trans=</span><span class="st">&quot;log2&quot;</span>)</span></code></pre></div>
<pre><code>## Scale for &#39;y&#39; is already present. Adding another scale for &#39;y&#39;, which will
## replace the existing scale.</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-227-1.png" width="672" /></p>
<div class="sourceCode" id="cb436"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb436-1"><a href="data-visualization.html#cb436-1" aria-hidden="true" tabindex="-1"></a><span class="co"># log10, sqrt, reverse, scale_y_continuous(trans=&quot;log2&quot;)</span></span></code></pre></div>
</div>
<div id="customize-axis-ticks" class="section level3 hasAnchor" number="4.5.11">
<h3><span class="header-section-number">4.5.11</span> Customize axis ticks<a href="data-visualization.html#customize-axis-ticks" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>change axis text font, color, size, angle using theme</li>
</ul>
<div class="sourceCode" id="cb437"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb437-1"><a href="data-visualization.html#cb437-1" aria-hidden="true" tabindex="-1"></a><span class="co"># when use theme, scale, guide? </span></span>
<span id="cb437-2"><a href="data-visualization.html#cb437-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg) <span class="sc">+</span> </span>
<span id="cb437-3"><a href="data-visualization.html#cb437-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> hwy, <span class="at">y =</span> displ))<span class="sc">+</span></span>
<span id="cb437-4"><a href="data-visualization.html#cb437-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb437-5"><a href="data-visualization.html#cb437-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">face=</span><span class="st">&quot;bold&quot;</span>, <span class="at">color=</span><span class="st">&quot;#993333&quot;</span>, </span>
<span id="cb437-6"><a href="data-visualization.html#cb437-6" aria-hidden="true" tabindex="-1"></a>                           <span class="at">size=</span><span class="dv">14</span>, <span class="at">angle=</span><span class="dv">45</span>),</span>
<span id="cb437-7"><a href="data-visualization.html#cb437-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">face=</span><span class="st">&quot;bold&quot;</span>, <span class="at">color=</span><span class="st">&quot;blue&quot;</span>, </span>
<span id="cb437-8"><a href="data-visualization.html#cb437-8" aria-hidden="true" tabindex="-1"></a>                           <span class="at">size=</span><span class="dv">7</span>, <span class="at">angle=</span><span class="dv">90</span>))</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-228-1.png" width="672" /></p>
<ul>
<li><code>remove aixs ticks and tick labels</code></li>
</ul>
<div class="sourceCode" id="cb438"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb438-1"><a href="data-visualization.html#cb438-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg) <span class="sc">+</span> </span>
<span id="cb438-2"><a href="data-visualization.html#cb438-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> hwy, <span class="at">y =</span> displ))<span class="sc">+</span></span>
<span id="cb438-3"><a href="data-visualization.html#cb438-3" aria-hidden="true" tabindex="-1"></a><span class="fu">theme</span>(</span>
<span id="cb438-4"><a href="data-visualization.html#cb438-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">axis.text.x =</span> <span class="fu">element_blank</span>(), <span class="co"># Remove x axis tick labels</span></span>
<span id="cb438-5"><a href="data-visualization.html#cb438-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">axis.text.y =</span> <span class="fu">element_blank</span>(), <span class="co"># Remove y axis tick labels</span></span>
<span id="cb438-6"><a href="data-visualization.html#cb438-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">axis.ticks =</span> <span class="fu">element_blank</span>()) <span class="co"># Remove ticks</span></span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-229-1.png" width="672" /></p>
</div>
<div id="flip-and-reverse-plot" class="section level3 hasAnchor" number="4.5.12">
<h3><span class="header-section-number">4.5.12</span> Flip and reverse plot<a href="data-visualization.html#flip-and-reverse-plot" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>boxplot and violin</li>
</ul>
<div class="sourceCode" id="cb439"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb439-1"><a href="data-visualization.html#cb439-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg ) <span class="sc">+</span> </span>
<span id="cb439-2"><a href="data-visualization.html#cb439-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>( <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.factor</span>(cyl), <span class="at">y=</span>hwy ,<span class="at">color=</span><span class="fu">as.factor</span>(cyl) ) ,<span class="at">trim =</span> <span class="cn">FALSE</span>,<span class="at">width =</span> <span class="dv">4</span> ) <span class="sc">+</span></span>
<span id="cb439-3"><a href="data-visualization.html#cb439-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>( <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.factor</span>(cyl), <span class="at">y=</span>hwy  ), <span class="at">notch =</span> F , <span class="at">width =</span> <span class="fl">0.1</span>)  </span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-230-1.png" width="672" /></p>
<ul>
<li>dotplot
<code>using stat_ function</code></li>
</ul>
<div class="sourceCode" id="cb440"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb440-1"><a href="data-visualization.html#cb440-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg ,<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.factor</span>(cyl), <span class="at">y=</span>hwy ) )<span class="sc">+</span> </span>
<span id="cb440-2"><a href="data-visualization.html#cb440-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_dotplot</span>(<span class="fu">aes</span>(<span class="at">color =</span><span class="fu">as.factor</span>(cyl), <span class="at">fill =</span> <span class="fu">as.factor</span>(cyl)), </span>
<span id="cb440-3"><a href="data-visualization.html#cb440-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">binaxis =</span> <span class="st">&quot;y&quot;</span>, <span class="at">stackdir =</span> <span class="st">&quot;center&quot;</span>) <span class="sc">+</span> </span>
<span id="cb440-4"><a href="data-visualization.html#cb440-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun.data=</span><span class="st">&quot;mean_sdl&quot;</span> )  </span></code></pre></div>
<pre><code>## Bin width defaults to 1/30 of the range of the data. Pick better value with `binwidth`.</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-231-1.png" width="672" /></p>
<ul>
<li>errorbar</li>
</ul>
<div class="sourceCode" id="cb442"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb442-1"><a href="data-visualization.html#cb442-1" aria-hidden="true" tabindex="-1"></a>df3 <span class="ot">&lt;-</span> <span class="fu">data_summary</span>(mpg, <span class="at">varname=</span><span class="st">&quot;hwy&quot;</span>, <span class="at">grps=</span> <span class="fu">c</span>(<span class="st">&quot;cyl&quot;</span> ))</span></code></pre></div>
<pre><code>## Loading required package: plyr</code></pre>
<pre><code>## ------------------------------------------------------------------------------</code></pre>
<pre><code>## You have loaded plyr after dplyr - this is likely to cause problems.
## If you need functions from both plyr and dplyr, please load plyr first, then dplyr:
## library(plyr); library(dplyr)</code></pre>
<pre><code>## ------------------------------------------------------------------------------</code></pre>
<pre><code>## 
## Attaching package: &#39;plyr&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:ggpubr&#39;:
## 
##     mutate</code></pre>
<pre><code>## The following objects are masked from &#39;package:plotly&#39;:
## 
##     arrange, mutate, rename, summarise</code></pre>
<pre><code>## The following objects are masked from &#39;package:Hmisc&#39;:
## 
##     is.discrete, summarize</code></pre>
<pre><code>## The following objects are masked from &#39;package:dplyr&#39;:
## 
##     arrange, count, desc, failwith, id, mutate, rename, summarise,
##     summarize</code></pre>
<pre><code>## The following object is masked from &#39;package:purrr&#39;:
## 
##     compact</code></pre>
<div class="sourceCode" id="cb453"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb453-1"><a href="data-visualization.html#cb453-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df3)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">cyl</th>
<th align="right">hwy</th>
<th align="right">sd</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">4</td>
<td align="right">28.80247</td>
<td align="right">4.515030</td>
</tr>
<tr class="even">
<td align="right">5</td>
<td align="right">28.75000</td>
<td align="right">0.500000</td>
</tr>
<tr class="odd">
<td align="right">6</td>
<td align="right">22.82278</td>
<td align="right">3.685590</td>
</tr>
<tr class="even">
<td align="right">8</td>
<td align="right">17.62857</td>
<td align="right">3.262307</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb454"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb454-1"><a href="data-visualization.html#cb454-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>( df3, <span class="fu">aes</span>(<span class="fu">as.factor</span>(cyl) ,  (hwy), <span class="at">ymin =</span> hwy<span class="sc">-</span>sd, <span class="at">ymax =</span> hwy<span class="sc">+</span>sd)  ) <span class="sc">+</span></span>
<span id="cb454-2"><a href="data-visualization.html#cb454-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> <span class="dv">0</span> )) <span class="sc">+</span></span>
<span id="cb454-3"><a href="data-visualization.html#cb454-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">color =</span> <span class="fu">as.factor</span>(cyl) ),<span class="at">width =</span> <span class="fl">0.2</span>) </span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-234-1.png" width="672" /></p>
<div class="sourceCode" id="cb455"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb455-1"><a href="data-visualization.html#cb455-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>( df3, <span class="fu">aes</span>(<span class="fu">as.factor</span>(cyl) ,  (hwy), <span class="at">ymin =</span> hwy<span class="sc">-</span>sd, <span class="at">ymax =</span> hwy<span class="sc">+</span>sd)  ) <span class="sc">+</span></span>
<span id="cb455-2"><a href="data-visualization.html#cb455-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">fill =</span> <span class="fu">as.factor</span>(cyl)), <span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>,</span>
<span id="cb455-3"><a href="data-visualization.html#cb455-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="sc">+</span></span>
<span id="cb455-4"><a href="data-visualization.html#cb455-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(   ),<span class="at">width =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb455-5"><a href="data-visualization.html#cb455-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-235-1.png" width="672" /></p>
<p><em>using original data</em></p>
<div class="sourceCode" id="cb456"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb456-1"><a href="data-visualization.html#cb456-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(cyl, hwy)) <span class="sc">+</span></span>
<span id="cb456-2"><a href="data-visualization.html#cb456-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">geom =</span> <span class="st">&quot;bar&quot;</span>) <span class="sc">+</span></span>
<span id="cb456-3"><a href="data-visualization.html#cb456-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">geom =</span> <span class="st">&quot;errorbar&quot;</span>)</span></code></pre></div>
<pre><code>## No summary function supplied, defaulting to `mean_se()`
## No summary function supplied, defaulting to `mean_se()`</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-236-1.png" width="672" /></p>
<p><code>flip</code></p>
<div class="sourceCode" id="cb458"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb458-1"><a href="data-visualization.html#cb458-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg) <span class="sc">+</span> </span>
<span id="cb458-2"><a href="data-visualization.html#cb458-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> class)) <span class="sc">+</span></span>
<span id="cb458-3"><a href="data-visualization.html#cb458-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-237-1.png" width="672" /></p>
<p><code>reverse</code></p>
<div class="sourceCode" id="cb459"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb459-1"><a href="data-visualization.html#cb459-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg) <span class="sc">+</span> </span>
<span id="cb459-2"><a href="data-visualization.html#cb459-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> class)) <span class="sc">+</span></span>
<span id="cb459-3"><a href="data-visualization.html#cb459-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_reverse</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-238-1.png" width="672" /></p>
</div>
<div id="create-stats" class="section level3 hasAnchor" number="4.5.13">
<h3><span class="header-section-number">4.5.13</span> Create stats<a href="data-visualization.html#create-stats" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><em>Every geom has a stat. The stat can be overwritten if we use any additional computations.</em></p>
<div class="sourceCode" id="cb460"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb460-1"><a href="data-visualization.html#cb460-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg ) <span class="sc">+</span> </span>
<span id="cb460-2"><a href="data-visualization.html#cb460-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span> (<span class="fu">aes</span>(<span class="at">x =</span> cyl ),<span class="at">position =</span> <span class="st">&#39;identity&#39;</span> ) <span class="co">#using original data</span></span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-239-1.png" width="672" /></p>
<ul>
<li>using transformed variables</li>
</ul>
<div class="sourceCode" id="cb461"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb461-1"><a href="data-visualization.html#cb461-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb461-2"><a href="data-visualization.html#cb461-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb461-3"><a href="data-visualization.html#cb461-3" aria-hidden="true" tabindex="-1"></a><span class="co"># mpg_counted &lt;-    </span></span>
<span id="cb461-4"><a href="data-visualization.html#cb461-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   count(mpg,  cyl  )</span></span>
<span id="cb461-5"><a href="data-visualization.html#cb461-5" aria-hidden="true" tabindex="-1"></a><span class="co"># head(mpg_counted)</span></span>
<span id="cb461-6"><a href="data-visualization.html#cb461-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb461-7"><a href="data-visualization.html#cb461-7" aria-hidden="true" tabindex="-1"></a><span class="co"># ggplot(mpg_counted) + </span></span>
<span id="cb461-8"><a href="data-visualization.html#cb461-8" aria-hidden="true" tabindex="-1"></a><span class="co">#   geom_smooth(aes(x =  cyl , y = n)) +</span></span>
<span id="cb461-9"><a href="data-visualization.html#cb461-9" aria-hidden="true" tabindex="-1"></a><span class="co">#   geom_bar (aes(x =  cyl , y = n), stat = &#39;identity&#39;) #using summary data </span></span></code></pre></div>
<ul>
<li>using the <code>after_stat()</code> function inside <code>aes()</code>.</li>
</ul>
<div class="sourceCode" id="cb462"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb462-1"><a href="data-visualization.html#cb462-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(scales)</span>
<span id="cb462-2"><a href="data-visualization.html#cb462-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg) <span class="sc">+</span> </span>
<span id="cb462-3"><a href="data-visualization.html#cb462-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> class, <span class="at">y =</span> <span class="fu">after_stat</span>(  count <span class="sc">/</span> <span class="fu">sum</span>(count))))<span class="sc">+</span></span>
<span id="cb462-4"><a href="data-visualization.html#cb462-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> percent) <span class="co"># labels decimals as percents</span></span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-241-1.png" width="672" /></p>
<ul>
<li>using <code>density</code> geometric in histogram</li>
</ul>
<div class="sourceCode" id="cb463"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb463-1"><a href="data-visualization.html#cb463-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg,<span class="fu">aes</span>(<span class="at">x =</span> hwy)) <span class="sc">+</span> </span>
<span id="cb463-2"><a href="data-visualization.html#cb463-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y=</span>..density..))<span class="sc">+</span></span>
<span id="cb463-3"><a href="data-visualization.html#cb463-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(  ) </span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-242-1.png" width="672" /></p>
<ul>
<li>Use <code>stat_summary()</code> to add the mean of <code>hwy</code> for each group</li>
</ul>
<p><code>STAT vs. GEOM</code></p>
<div class="sourceCode" id="cb465"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb465-1"><a href="data-visualization.html#cb465-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mpg,<span class="fu">aes</span>(<span class="at">x =</span> class, <span class="at">y =</span> hwy) ) <span class="sc">+</span> </span>
<span id="cb465-2"><a href="data-visualization.html#cb465-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(</span>
<span id="cb465-3"><a href="data-visualization.html#cb465-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">geom =</span> <span class="st">&quot;pointrange&quot;</span>,</span>
<span id="cb465-4"><a href="data-visualization.html#cb465-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">fun.data =</span> mean_se</span>
<span id="cb465-5"><a href="data-visualization.html#cb465-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb465-6"><a href="data-visualization.html#cb465-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb465-7"><a href="data-visualization.html#cb465-7" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mpg,<span class="fu">aes</span>(<span class="at">x =</span> class, <span class="at">y =</span> hwy) ) <span class="sc">+</span> </span>
<span id="cb465-8"><a href="data-visualization.html#cb465-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>( </span>
<span id="cb465-9"><a href="data-visualization.html#cb465-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb465-10"><a href="data-visualization.html#cb465-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb465-11"><a href="data-visualization.html#cb465-11" aria-hidden="true" tabindex="-1"></a>p3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mpg,<span class="fu">aes</span>(<span class="at">x =</span> class, <span class="at">y =</span> hwy) ) <span class="sc">+</span> </span>
<span id="cb465-12"><a href="data-visualization.html#cb465-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>( </span>
<span id="cb465-13"><a href="data-visualization.html#cb465-13" aria-hidden="true" tabindex="-1"></a>  )<span class="sc">+</span></span>
<span id="cb465-14"><a href="data-visualization.html#cb465-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(</span>
<span id="cb465-15"><a href="data-visualization.html#cb465-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">fun.data =</span> <span class="sc">~</span><span class="fu">mean_se</span>(., <span class="at">mult =</span> <span class="fl">1.96</span>), <span class="co"># Increase `mult` value for bigger interval!</span></span>
<span id="cb465-16"><a href="data-visualization.html#cb465-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">geom =</span> <span class="st">&quot;errorbar&quot;</span>,</span>
<span id="cb465-17"><a href="data-visualization.html#cb465-17" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb465-18"><a href="data-visualization.html#cb465-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb465-19"><a href="data-visualization.html#cb465-19" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb465-20"><a href="data-visualization.html#cb465-20" aria-hidden="true" tabindex="-1"></a>p1<span class="sc">+</span>p2<span class="sc">+</span>p3</span></code></pre></div>
<pre><code>## No summary function supplied, defaulting to `mean_se()`
## No summary function supplied, defaulting to `mean_se()`</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-243-1.png" width="672" /></p>
<div class="sourceCode" id="cb467"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb467-1"><a href="data-visualization.html#cb467-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg) <span class="sc">+</span> </span>
<span id="cb467-2"><a href="data-visualization.html#cb467-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> class, <span class="at">y =</span> hwy), <span class="at">width =</span> <span class="fl">0.2</span>)<span class="sc">+</span></span>
<span id="cb467-3"><a href="data-visualization.html#cb467-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="fu">aes</span>( <span class="at">x =</span> class,<span class="at">y =</span> hwy), <span class="at">geom=</span><span class="st">&quot;point&quot;</span>,<span class="at">color=</span><span class="st">&quot;red&quot;</span>,<span class="at">size=</span><span class="dv">4</span>)</span></code></pre></div>
<pre><code>## No summary function supplied, defaulting to `mean_se()`</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-244-1.png" width="672" /></p>
<p><code>jitter points</code></p>
<div class="sourceCode" id="cb469"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb469-1"><a href="data-visualization.html#cb469-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg) <span class="sc">+</span> </span>
<span id="cb469-2"><a href="data-visualization.html#cb469-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="fu">aes</span>(<span class="at">x =</span> class, <span class="at">y =</span> hwy), <span class="at">width =</span> <span class="fl">0.2</span>)<span class="sc">+</span></span>
<span id="cb469-3"><a href="data-visualization.html#cb469-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="fu">aes</span>( <span class="at">x =</span> class,<span class="at">y =</span> hwy), <span class="at">geom=</span><span class="st">&quot;point&quot;</span>,<span class="at">color=</span><span class="st">&quot;red&quot;</span>,<span class="at">size=</span><span class="dv">4</span>)</span></code></pre></div>
<pre><code>## No summary function supplied, defaulting to `mean_se()`</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-245-1.png" width="672" /></p>
</div>
<div id="facets" class="section level3 hasAnchor" number="4.5.14">
<h3><span class="header-section-number">4.5.14</span> Facets<a href="data-visualization.html#facets" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>facet_wrap()</code> allows you to place facet side by side into a rectangular layout. <code>facet_grid()</code> allows you to specify different directions and works on two variables.</p>
<ul>
<li>share the axes between the different panels</li>
</ul>
<div class="sourceCode" id="cb471"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb471-1"><a href="data-visualization.html#cb471-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg) <span class="sc">+</span> </span>
<span id="cb471-2"><a href="data-visualization.html#cb471-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy)) <span class="sc">+</span> </span>
<span id="cb471-3"><a href="data-visualization.html#cb471-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> class)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-246-1.png" width="672" /></p>
<div class="sourceCode" id="cb472"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb472-1"><a href="data-visualization.html#cb472-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg) <span class="sc">+</span> </span>
<span id="cb472-2"><a href="data-visualization.html#cb472-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy)) <span class="sc">+</span> </span>
<span id="cb472-3"><a href="data-visualization.html#cb472-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(drv<span class="sc">~</span> .  )</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-247-1.png" width="672" /></p>
<div class="sourceCode" id="cb473"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb473-1"><a href="data-visualization.html#cb473-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg) <span class="sc">+</span> </span>
<span id="cb473-2"><a href="data-visualization.html#cb473-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy)) <span class="sc">+</span> </span>
<span id="cb473-3"><a href="data-visualization.html#cb473-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="sc">~</span> drv  )</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-248-1.png" width="672" /></p>
<div class="sourceCode" id="cb474"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb474-1"><a href="data-visualization.html#cb474-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg) <span class="sc">+</span> </span>
<span id="cb474-2"><a href="data-visualization.html#cb474-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy)) <span class="sc">+</span> </span>
<span id="cb474-3"><a href="data-visualization.html#cb474-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(year <span class="sc">~</span> drv)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-249-1.png" width="672" /></p>
<ul>
<li>do not share the axes between the different panels</li>
</ul>
<div class="sourceCode" id="cb475"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb475-1"><a href="data-visualization.html#cb475-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg) <span class="sc">+</span> </span>
<span id="cb475-2"><a href="data-visualization.html#cb475-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy)) <span class="sc">+</span> </span>
<span id="cb475-3"><a href="data-visualization.html#cb475-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> drv , <span class="at">scales =</span> <span class="st">&quot;free&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-250-1.png" width="672" /></p>
<p><code>only free y axes</code></p>
<div class="sourceCode" id="cb476"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb476-1"><a href="data-visualization.html#cb476-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg) <span class="sc">+</span> </span>
<span id="cb476-2"><a href="data-visualization.html#cb476-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy)) <span class="sc">+</span> </span>
<span id="cb476-3"><a href="data-visualization.html#cb476-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> drv , <span class="at">scales =</span> <span class="st">&quot;free_y&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-251-1.png" width="672" /></p>
<ul>
<li>adjust y scale (space) between the panels</li>
</ul>
<div class="sourceCode" id="cb477"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb477-1"><a href="data-visualization.html#cb477-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg) <span class="sc">+</span> </span>
<span id="cb477-2"><a href="data-visualization.html#cb477-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">y =</span> manufacturer)) <span class="sc">+</span> </span>
<span id="cb477-3"><a href="data-visualization.html#cb477-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(class <span class="sc">~</span> .)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-252-1.png" width="672" /></p>
<div class="sourceCode" id="cb478"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb478-1"><a href="data-visualization.html#cb478-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg) <span class="sc">+</span> </span>
<span id="cb478-2"><a href="data-visualization.html#cb478-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">y =</span> manufacturer)) <span class="sc">+</span> </span>
<span id="cb478-3"><a href="data-visualization.html#cb478-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(class <span class="sc">~</span> ., <span class="at">space =</span> <span class="st">&quot;free_y&quot;</span>, <span class="at">scales =</span> <span class="st">&quot;free_y&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-253-1.png" width="672" /></p>
<ul>
<li>display by adding multiple variables together</li>
</ul>
<div class="sourceCode" id="cb479"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb479-1"><a href="data-visualization.html#cb479-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg) <span class="sc">+</span> </span>
<span id="cb479-2"><a href="data-visualization.html#cb479-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy)) <span class="sc">+</span> </span>
<span id="cb479-3"><a href="data-visualization.html#cb479-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(year <span class="sc">~</span> drv)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-254-1.png" width="672" /></p>
</div>
<div id="theme" class="section level3 hasAnchor" number="4.5.15">
<h3><span class="header-section-number">4.5.15</span> Theme<a href="data-visualization.html#theme" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>theme_minimal</code></p>
<div class="sourceCode" id="cb480"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb480-1"><a href="data-visualization.html#cb480-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg) <span class="sc">+</span> </span>
<span id="cb480-2"><a href="data-visualization.html#cb480-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">y =</span> class)) <span class="sc">+</span> </span>
<span id="cb480-3"><a href="data-visualization.html#cb480-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>year) <span class="sc">+</span> </span>
<span id="cb480-4"><a href="data-visualization.html#cb480-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-255-1.png" width="672" /></p>
<p><code>Further adjustments</code><br />
<code>theme_bw</code></p>
<div class="sourceCode" id="cb481"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb481-1"><a href="data-visualization.html#cb481-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg) <span class="sc">+</span> </span>
<span id="cb481-2"><a href="data-visualization.html#cb481-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">y =</span> class)) <span class="sc">+</span> </span>
<span id="cb481-3"><a href="data-visualization.html#cb481-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>year) <span class="sc">+</span> </span>
<span id="cb481-4"><a href="data-visualization.html#cb481-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb481-5"><a href="data-visualization.html#cb481-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Number of car models per class&quot;</span>,</span>
<span id="cb481-6"><a href="data-visualization.html#cb481-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;source: http://fueleconomy.gov&quot;</span>,</span>
<span id="cb481-7"><a href="data-visualization.html#cb481-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb481-8"><a href="data-visualization.html#cb481-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb481-9"><a href="data-visualization.html#cb481-9" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb481-10"><a href="data-visualization.html#cb481-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb481-11"><a href="data-visualization.html#cb481-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb481-12"><a href="data-visualization.html#cb481-12" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb481-13"><a href="data-visualization.html#cb481-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&#39;bold&#39;</span>, <span class="at">hjust =</span> <span class="dv">0</span>),</span>
<span id="cb481-14"><a href="data-visualization.html#cb481-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb481-15"><a href="data-visualization.html#cb481-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&#39;italic&#39;</span>),</span>
<span id="cb481-16"><a href="data-visualization.html#cb481-16" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb481-17"><a href="data-visualization.html#cb481-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major =</span> <span class="fu">element_line</span>(<span class="st">&#39;white&#39;</span>, <span class="at">size =</span> <span class="fl">0.5</span>),</span>
<span id="cb481-18"><a href="data-visualization.html#cb481-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb481-19"><a href="data-visualization.html#cb481-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.y =</span> <span class="fu">element_blank</span>()</span>
<span id="cb481-20"><a href="data-visualization.html#cb481-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ,</span></span>
<span id="cb481-21"><a href="data-visualization.html#cb481-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># panel.ontop = TRUE</span></span>
<span id="cb481-22"><a href="data-visualization.html#cb481-22" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-256-1.png" width="672" /></p>
<p><code>theme_classic</code></p>
<div class="sourceCode" id="cb482"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb482-1"><a href="data-visualization.html#cb482-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg) <span class="sc">+</span> </span>
<span id="cb482-2"><a href="data-visualization.html#cb482-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">y =</span> class, <span class="at">fill =</span> drv)  ,<span class="at">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="sc">+</span> </span>
<span id="cb482-3"><a href="data-visualization.html#cb482-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>year) <span class="sc">+</span> </span>
<span id="cb482-4"><a href="data-visualization.html#cb482-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Number of car models per class&quot;</span>,</span>
<span id="cb482-5"><a href="data-visualization.html#cb482-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;source: http://fueleconomy.gov&quot;</span>,</span>
<span id="cb482-6"><a href="data-visualization.html#cb482-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&#39;Number of cars&#39;</span>,</span>
<span id="cb482-7"><a href="data-visualization.html#cb482-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>)<span class="sc">+</span></span>
<span id="cb482-8"><a href="data-visualization.html#cb482-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb482-9"><a href="data-visualization.html#cb482-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">name =</span> <span class="st">&quot;Drive Models&quot;</span>,<span class="at">values=</span><span class="fu">c</span>(<span class="st">&quot;black&quot;</span>, <span class="st">&quot;grey50&quot;</span>,  <span class="st">&quot;grey80&quot;</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;4w&quot;</span>,<span class="st">&quot;Fw&quot;</span>,<span class="st">&quot;Rw&quot;</span> )) <span class="sc">+</span></span>
<span id="cb482-10"><a href="data-visualization.html#cb482-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb482-11"><a href="data-visualization.html#cb482-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># scale_x_continuous(expand = c(0, NA)) + </span></span>
<span id="cb482-12"><a href="data-visualization.html#cb482-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb482-13"><a href="data-visualization.html#cb482-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>() <span class="sc">+</span> </span>
<span id="cb482-14"><a href="data-visualization.html#cb482-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb482-15"><a href="data-visualization.html#cb482-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># text = element_text(&#39;Avenir Next Condensed&#39;),</span></span>
<span id="cb482-16"><a href="data-visualization.html#cb482-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># strip.text = element_text(face = &#39;bold&#39;, hjust = 0),</span></span>
<span id="cb482-17"><a href="data-visualization.html#cb482-17" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb482-18"><a href="data-visualization.html#cb482-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&#39;italic&#39;</span>),</span>
<span id="cb482-19"><a href="data-visualization.html#cb482-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb482-20"><a href="data-visualization.html#cb482-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major =</span> <span class="fu">element_line</span>(<span class="st">&#39;white&#39;</span>, <span class="at">size =</span> <span class="fl">0.5</span>),</span>
<span id="cb482-21"><a href="data-visualization.html#cb482-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb482-22"><a href="data-visualization.html#cb482-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.y =</span> <span class="fu">element_blank</span>()</span>
<span id="cb482-23"><a href="data-visualization.html#cb482-23" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb482-24"><a href="data-visualization.html#cb482-24" aria-hidden="true" tabindex="-1"></a>    <span class="co"># panel.ontop = TRUE)</span></span>
<span id="cb482-25"><a href="data-visualization.html#cb482-25" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-257-1.png" width="672" /></p>
<ul>
<li>using ggthemes</li>
</ul>
<div class="sourceCode" id="cb483"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb483-1"><a href="data-visualization.html#cb483-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggthemes)</span>
<span id="cb483-2"><a href="data-visualization.html#cb483-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg) <span class="sc">+</span> </span>
<span id="cb483-3"><a href="data-visualization.html#cb483-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">y =</span> class, <span class="at">fill =</span> drv)  ,<span class="at">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="sc">+</span> </span>
<span id="cb483-4"><a href="data-visualization.html#cb483-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>year) <span class="sc">+</span> </span>
<span id="cb483-5"><a href="data-visualization.html#cb483-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Number of car models per class&quot;</span>,</span>
<span id="cb483-6"><a href="data-visualization.html#cb483-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;source: http://fueleconomy.gov&quot;</span>,</span>
<span id="cb483-7"><a href="data-visualization.html#cb483-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&#39;Number of cars&#39;</span>,</span>
<span id="cb483-8"><a href="data-visualization.html#cb483-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>)<span class="sc">+</span></span>
<span id="cb483-9"><a href="data-visualization.html#cb483-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb483-10"><a href="data-visualization.html#cb483-10" aria-hidden="true" tabindex="-1"></a>  ggthemes<span class="sc">::</span><span class="fu">theme_economist</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-258-1.png" width="672" /></p>
<ul>
<li>customized theme</li>
</ul>
<div class="sourceCode" id="cb484"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb484-1"><a href="data-visualization.html#cb484-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg) <span class="sc">+</span> </span>
<span id="cb484-2"><a href="data-visualization.html#cb484-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">y =</span> class, <span class="at">fill =</span> drv)  ,<span class="at">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="sc">+</span> </span>
<span id="cb484-3"><a href="data-visualization.html#cb484-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>year) <span class="sc">+</span> </span>
<span id="cb484-4"><a href="data-visualization.html#cb484-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Number of car models per class&quot;</span>,</span>
<span id="cb484-5"><a href="data-visualization.html#cb484-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;source: http://fueleconomy.gov&quot;</span>,</span>
<span id="cb484-6"><a href="data-visualization.html#cb484-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&#39;Number of cars&#39;</span>,</span>
<span id="cb484-7"><a href="data-visualization.html#cb484-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>)<span class="sc">+</span></span>
<span id="cb484-8"><a href="data-visualization.html#cb484-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb484-9"><a href="data-visualization.html#cb484-9" aria-hidden="true" tabindex="-1"></a><span class="fu">theme</span>(</span>
<span id="cb484-10"><a href="data-visualization.html#cb484-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb484-11"><a href="data-visualization.html#cb484-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 1 change legend</span></span>
<span id="cb484-12"><a href="data-visualization.html#cb484-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.background =</span> <span class="fu">element_rect</span>(</span>
<span id="cb484-13"><a href="data-visualization.html#cb484-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">fill =</span> <span class="st">&quot;#fff6c2&quot;</span>,</span>
<span id="cb484-14"><a href="data-visualization.html#cb484-14" aria-hidden="true" tabindex="-1"></a>      <span class="at">color =</span> <span class="st">&quot;black&quot;</span>,</span>
<span id="cb484-15"><a href="data-visualization.html#cb484-15" aria-hidden="true" tabindex="-1"></a>      <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span></span>
<span id="cb484-16"><a href="data-visualization.html#cb484-16" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb484-17"><a href="data-visualization.html#cb484-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.key =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">&quot;grey&quot;</span>, <span class="at">color =</span> <span class="st">&quot;brown&quot;</span>),</span>
<span id="cb484-18"><a href="data-visualization.html#cb484-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>, </span>
<span id="cb484-19"><a href="data-visualization.html#cb484-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb484-20"><a href="data-visualization.html#cb484-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 2 change panel (middle erea) background </span></span>
<span id="cb484-21"><a href="data-visualization.html#cb484-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.background =</span> <span class="fu">element_rect</span>(</span>
<span id="cb484-22"><a href="data-visualization.html#cb484-22" aria-hidden="true" tabindex="-1"></a>      <span class="at">fill =</span> <span class="st">&quot;#005F59&quot;</span>,</span>
<span id="cb484-23"><a href="data-visualization.html#cb484-23" aria-hidden="true" tabindex="-1"></a>      <span class="at">color =</span> <span class="st">&quot;red&quot;</span>, <span class="at">size =</span> <span class="dv">3</span></span>
<span id="cb484-24"><a href="data-visualization.html#cb484-24" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb484-25"><a href="data-visualization.html#cb484-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.border =</span> <span class="fu">element_rect</span>(</span>
<span id="cb484-26"><a href="data-visualization.html#cb484-26" aria-hidden="true" tabindex="-1"></a>      <span class="at">color =</span> <span class="st">&quot;black&quot;</span>,</span>
<span id="cb484-27"><a href="data-visualization.html#cb484-27" aria-hidden="true" tabindex="-1"></a>      <span class="at">fill =</span> <span class="st">&quot;transparent&quot;</span>,</span>
<span id="cb484-28"><a href="data-visualization.html#cb484-28" aria-hidden="true" tabindex="-1"></a>      <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>, <span class="at">size =</span> <span class="dv">3</span></span>
<span id="cb484-29"><a href="data-visualization.html#cb484-29" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb484-30"><a href="data-visualization.html#cb484-30" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb484-31"><a href="data-visualization.html#cb484-31" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 3 change plot background</span></span>
<span id="cb484-32"><a href="data-visualization.html#cb484-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.background =</span> <span class="fu">element_rect</span>(</span>
<span id="cb484-33"><a href="data-visualization.html#cb484-33" aria-hidden="true" tabindex="-1"></a>      <span class="at">fill =</span> <span class="st">&quot;#a1dce9&quot;</span>,</span>
<span id="cb484-34"><a href="data-visualization.html#cb484-34" aria-hidden="true" tabindex="-1"></a>      <span class="at">color =</span> <span class="st">&quot;black&quot;</span>,</span>
<span id="cb484-35"><a href="data-visualization.html#cb484-35" aria-hidden="true" tabindex="-1"></a>      <span class="at">size =</span> <span class="fl">1.3</span></span>
<span id="cb484-36"><a href="data-visualization.html#cb484-36" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb484-37"><a href="data-visualization.html#cb484-37" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb484-38"><a href="data-visualization.html#cb484-38" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb484-39"><a href="data-visualization.html#cb484-39" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb484-40"><a href="data-visualization.html#cb484-40" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 4 change axis elements</span></span>
<span id="cb484-41"><a href="data-visualization.html#cb484-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.line =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">&quot;orange&quot;</span>, <span class="at">size =</span> <span class="dv">2</span>),</span>
<span id="cb484-42"><a href="data-visualization.html#cb484-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">&quot;red&quot;</span>, <span class="at">face =</span> <span class="st">&quot;italic&quot;</span>),</span>
<span id="cb484-43"><a href="data-visualization.html#cb484-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.ticks =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">&quot;purple&quot;</span>, <span class="at">size =</span> <span class="dv">3</span>),</span>
<span id="cb484-44"><a href="data-visualization.html#cb484-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">&quot;blue&quot;</span>),</span>
<span id="cb484-45"><a href="data-visualization.html#cb484-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>), </span>
<span id="cb484-46"><a href="data-visualization.html#cb484-46" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb484-47"><a href="data-visualization.html#cb484-47" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 5 change facet panel</span></span>
<span id="cb484-48"><a href="data-visualization.html#cb484-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">strip.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">&quot;orange&quot;</span>),</span>
<span id="cb484-49"><a href="data-visualization.html#cb484-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">&quot;red&quot;</span>),</span>
<span id="cb484-50"><a href="data-visualization.html#cb484-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.spacing =</span> <span class="fu">unit</span>(<span class="fl">0.3</span>, <span class="st">&quot;inch&quot;</span>) </span>
<span id="cb484-51"><a href="data-visualization.html#cb484-51" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-259-1.png" width="672" /></p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="deep-learning.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="basic-statistics.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/04-datavisu.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
